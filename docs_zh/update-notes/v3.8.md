---
description: 此发布周期引入了可选遥测、重要的终端架构改进、多差异编辑策略、.rooignore 支持以及重新设计的设置页面，同时还有大量提供程序更新和错误修复。
---

# Roo Code 3.8 版本说明 (2025-03-13)

此发布周期引入了可选遥测、重要的终端架构改进、多差异编辑策略、`.rooignore` 支持以及重新设计的设置页面，同时还有大量提供程序更新和错误修复。

---

## 主要功能与增强

*   **可选遥测：** 添加了可选遥测以帮助更快地改进 Roo Code。（感谢 Cline！）
*   **终端架构重构：** 对终端架构进行了重大重构，以解决关键问题，包括终端过载和灰屏问题。（感谢 @KJ7LNW！）
*   **多差异编辑策略（实验性）：** 引入了一种新的实验性差异编辑策略，可以一次应用多个差异编辑。（感谢 @qdaxb！）
*   **`.rooignore` 支持：** 添加了对 `.rooignore` 文件的支持，以防止 Roo Code 读取/写入指定文件，并可选择将其从搜索/列表中排除。（感谢 Cline！）
*   **重新设计的设置页面：** 设置页面已重新设计，以便于导航。
*   **新建任务工具增强：** `new_task` 工具现在在完成后将结果返回给父任务，以实现更好的协调。（感谢 @shaybc！）
*   **同时运行多个 Roo 实例：** 支持在多个编辑器窗口中同时运行 Roo Code。（感谢 @samhvw8！）
*   **异步检查点：** 检查点现在是异步的，并排除了更多文件以加快速度。
*   **人工中继提供程序：** 添加了一个新的“人工中继”提供程序，用于手动将信息复制到 Web AI 并将响应粘贴回来。（感谢 @NyxJae！）
*   **通过 SSE 的 MCP：** 支持通过服务器发送事件 (SSE) 的 MCP（模式通信协议）。（感谢 @aheizi！）
*   **远程浏览器连接：** 支持远程浏览器连接。（感谢 @afshawnlotfi！）
*   **子任务的自动批准：** 添加了子任务创建和完成的自动批准切换。（感谢 @shaybc！）

---

## 提供程序更新

*   **基于凭据的 Vertex AI 身份验证：** 为 Vertex AI 添加了基于凭据的身份验证。（感谢 @eonghk！）
*   **DeepSeek 提供程序更新：** 使用正确的 baseUrl 和缓存更新了 DeepSeek 提供程序。（感谢 @olweraltuve！）
*   **OpenAI 可观测性：** 为 OpenAI 提供程序添加了可观测性。（感谢 @refactorthis！）
*   **LM Studio 推测性解码：** 支持 LM Studio 本地模型的推测性解码。（感谢 @adamwlarson！）
*   **PowerShell 命令处理：** 特定于 PowerShell 的命令处理。（感谢 @KJ7LNW！）
*   **与 OpenAI 兼容的 DeepSeek/QwQ 推理：** 支持通过 OpenAI 兼容提供程序对 DeepSeek/QwQ 进行推理。（感谢 @lightrabbit！）
*   **类 Anthropic 提示缓存（与 OpenAI 兼容）：** 在与 OpenAI 兼容的提供程序中添加了类 Anthropic 提示缓存。（感谢 @dleen！）
*   **AWS Bedrock 的 Deepseek R1：** 为 AWS Bedrock 添加了 Deepseek R1 支持。（感谢 @ATempsch！）
*   **Gemini 2.0 Pro Exp (Vertex)：** 将 `gemini-2.0-pro-exp-02-05` 模型添加到 Vertex。（感谢 @shohei-ihaya！）
*   **AWS Bedrock 中的自定义 ARN：** 支持 AWS Bedrock 中的自定义 ARN。（感谢 @Smartsheet-JB-Brown！）
*   **o3-mini 支持（与 OpenAI 兼容）：** 在与 OpenAI 兼容的提供程序中添加了 o3-mini 支持。（感谢 @yt3trees！）

---

## 生活质量改进

*   **选择器和标题的 UI 改进：** 增强了聊天和任务标题中的模式/提供程序选择器。（感谢 @monotykamary！）
*   **上下文提及路径处理（Windows）：** 改进了 Windows 上的上下文提及路径处理。（感谢 @samhvw8！）
*   **配置配置文件下拉菜单 UI：** 改进了配置配置文件下拉菜单的 UI。（感谢 @DeXtroTip！）
*   **保留输出令牌显示：** 在上下文窗口可视化中显示保留的输出令牌。
*   **禁用创建/编辑自定义模式说明：** 添加了一个选项，通过禁用创建/编辑自定义模式的说明来节省令牌。（感谢 @hannesrudolph！）

---

## 错误修复

*   修复了 VS Code LM API 模型选择器截断问题。
*   修复了导致文件开头出现不可读字符的编码问题。
*   修复了设置下拉菜单截断问题。
*   修复了无法取消选中自定义温度的错误（感谢 @System233！）。
*   修复了与 OpenAI 兼容的提供程序的十进制价格输入错误（感谢 @System233！）。
*   修复了 Sonnet 3.7 上的增强提示错误（感谢 @moqimoqidea！）。
*   修复了思考模型的上下文窗口管理错误（感谢 @ReadyPlayerEmma！）。
*   修复了检查点默认不再启用的错误。
*   修复了深色高对比度主题的 MarkdownBlock 文本颜色（感谢 @cannuri！）。
*   修复了浏览器系统提示包含规则（感谢 @cannuri！）。
*   修复了类 OpenAI 成本计算（感谢 @dtrugman！）。
*   修复了允许使用被排除目录作为工作目录的问题（感谢 @Szpadel！）。
*   修复了 OpenRouter 自定义 baseUrl 支持。
*   修复了 SiliconFlow 和其他提供程序的使用情况跟踪。
*   暂时回滚了多差异进度指示器以修复双重确认。

---

## 其他改进

*   **版本遥测：** 将扩展和 VSCode 版本添加到遥测中。
*   **Kotlin 语言支持：** 在 `list_code_definition_names` 工具中添加了 Kotlin 支持。（感谢 @kohii！）
*   **差异应用错误处理：** 更好地处理差异应用错误。（感谢 @qdaxb！）
*   **更新了 Bedrock 价格：** 将 Bedrock 价格更新为最新价格。（感谢 @Smartsheet-JB-Brown！）
*   **检查点和差异策略的遥测：** 添加了检查点保存/恢复/差异和差异策略的遥测。
*   **更新了 MCP 服务器目录路径：** 更新了路径以实现平台兼容性。（感谢 @hannesrudolph！）