---
description: Roo Code 3.10 引入了分块读取大文件、建议回复、改进的 @-提及、动态指令、Gemini 2.5 Pro 支持以及众多修复。
keywords:
  - roo code 3.10
  - context management
  - large files
  - suggested responses
  - at-mentions
  - gemini 2.5 pro
  - dynamic instructions
  - release notes
---

# Roo Code 3.10 版本说明 (2025-03-25)

此版本周期专注于通过部分文件读取和建议回复增强上下文管理，改进 OpenRouter 集成，以及对稳定性和用户体验进行各种修复。

---

## 增强的上下文管理

*   **分块读取大文件：** Roo Code 现在可以分块读取大文件，从而实现更高效的处理和上下文利用。（感谢 samhvw8！）
*   **问题的建议回复：** 当 Roo 提出问题时，现在会提供建议回复以简化用户交互。（感谢 samhvw8！）
*   **更一致的 @-提及查找：** 改进了使用 @-提及查找文件和文件夹的一致性。
*   **合并代码操作：** 代码操作现在被分组到子菜单中，以获得更清晰的界面。（感谢 samhvw8！）

---

## 提供商和 API 增强

*   **动态获取指令：** 创建/编辑自定义模式和 MCP 服务器的指令现在可以动态获取。（感谢 diarmidmackenzie！）
*   **添加 Gemini 2.5 Pro：** Gemini 2.5 Pro 模型已添加到 Google Gemini 提供商。（感谢 samsilveira！）
*   **OpenRouter 令牌跟踪：** 切换到更直接的方法来跟踪 OpenRouter 令牌使用量和支出。
*   **对部分读取块大小的控制：** 用户现在可以更精细地控制部分文件读取的块大小。
*   **OpenAI 兼容的 R1 支持：** 为 QWQ 的 OpenAI 兼容提供商添加了 R1 支持复选框。（感谢 teddyOOXX！）
*   **Bedrock 应用程序推理配置文件：** 为应用程序推理配置文件添加了 Bedrock 支持。（感谢 maekawataiki！）
*   **API 中的任务创建事件：** 向 API 添加了 `taskCreated` 事件。（感谢 wkordalski！）

---

## 生活质量改进

*   **更新的欢迎页面：** 欢迎页面现在提供与 LLM 路由器的 1 键 OAuth 流程。（感谢 dtrugman！）
*   **新建任务命令：** 在命令面板中添加了“新建任务”命令。（感谢 qdaxb！）
*   **聊天文本区域的用户体验：** 更新了聊天文本区域的用户体验。（感谢 chadgauth！）
*   **任务的自定义存储路径：** 支持任务的自定义存储路径。（感谢 Chenjiayuan195！）

---

## Bug 修复

*   修复了 MCP 错误日志记录（感谢 aheizi！）。
*   改进了 `search_files` 工具的格式和逻辑（感谢 KJ7LNW！）。
*   修复了 GitHub 版本中的更新日志格式（感谢 pdecat！）。
*   修复了使用 WSL 时导致任务历史记录丢失的错误。
*   修复了问题和提示在非流式模型中不显示或难以阅读的问题。
*   修复了设置中下拉菜单的不透明度（感谢 KJ7LNW！）。
*   修复了读取和提及 PDF 等二进制文件的错误。
*   修复了 OpenRouter 免费模型的价格信息（感谢 Jdo300！）。
*   修复了 Windows 上单元测试的问题（感谢 diarmidmackenzie！）。
*   修复了 Outbound 提供商的 maxTokens 问题（感谢 pugazhendhi-m！）。
*   修复了部分文件读取的行号问题（感谢 samhvw8！）。
*   修复了 Windows 上的上下文提及。
*   修复了德语翻译（感谢 cannuri！）。
*   修复了遥测横幅的国际化。
*   更正了 Sonnet 3.7 非思考模型的最大输出令牌数。
*   修复了触发任务完成事件的逻辑。
*   更新了 `gemini-2.5-pro-03-25` 的最大令牌值（感谢 linegel！）。

---

## 其他改进

*   为集成测试添加了伪提供商（感谢 franekp！）。
*   在 ap-xx 区域中反映了跨区域推理选项（感谢 Yoshino-Yukitaro！）。
*   使部分文件读取与自定义系统提示向后兼容。
*   对实验性多块差异进行了各种修复和改进（感谢 KJ7LNW！）。
*   重命名并迁移了全局 MCP 和模式文件（感谢 StevenTCramer！）。
*   向 McpHub 添加了 `watchPaths` 选项以进行文件更改检测（感谢 01Rian！）。
*   启用了读取 MCP 调用的图像响应（感谢 nevermorec！）。
*   修复了数字格式化后缀的国际化（感谢 feifei325！）。
*   修复了上下文提及建议中的打开标签页支持（感谢 aheizi！）。
*   更好地显示 OpenRouter “过载”错误消息。
*   修复了系统提示预览中浏览器工具的可见性（感谢 cannuri！）。
*   修复了 OpenAI 模型的 `supportsPromptCache` 值（感谢 PeterDaveHello！）。
*   修复了指向文档的 readme 链接（感谢 kvokka！）。
*   对库运行了 'npm audit fix'。
*   使建议回复成为可选，以避免破坏被覆盖的系统提示。