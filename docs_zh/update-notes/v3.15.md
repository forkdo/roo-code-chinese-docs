---
description: Roo Code 3.15 版本新增 Google Vertex 提示缓存、终端命令回退机制、增强的 Boomerang 模式以及设置导入/导出功能。
keywords:
  - roo code
  - v3.15
  - release notes
  - Google Vertex
  - prompt caching
  - terminal commands
  - Boomerang Orchestrator
  - settings
---

# Roo Code 3.15 版本发布说明 (2025-05-05)

此版本为 Google Vertex 引入了提示缓存功能，改进了终端命令处理，增强了 UI/UX，更新了提供商支持，提升了性能，并在 3.15.0 至 3.15.5 版本中进行了多项其他改进和错误修复。

---

## Google Vertex 提示缓存

*   为 Google Vertex 提供商添加了提示缓存功能，可能实现更快、更具成本效益的响应（感谢 ashktn）。

---

## 改进的终端命令处理

*   实现了在 VSCode 终端 shell 集成失败时执行终端命令的回退机制。
*   添加了直接从聊天 UI 停止命令的功能。

    <img src="/img/v3.15.0/v3.15.0-2.png" width="600" />

---

## Boomerang Orchestrator 模式

*   增强的 Orchestrator (Boomerang) 模式严格编排任务。
*   不再读取、写入、执行命令或使用 MCP 服务器；将这些任务卸载到其他模式。
*   提供更可预测且安全的任务自动化。

---

## 设置导入/导出

*   现在可以直接从欢迎屏幕导入 Roo Code 设置（感谢 julionav）。
*   修复了自定义模式的导入和导出功能（感谢 julionav）。

---

## 生活质量改进

*   仅在需要用户操作时播放通知声音（当启用时）（感谢 olearycrew！）。
*   改进了聊天中代码片段的 UI/UX（感谢 KJ7LNW）。
*   调整了聊天视图的内边距以适应小宽度布局（感谢 zhangtony239）。
*   修复了窗口调整大小时聊天输入框高度不稳定的问题（感谢 zhangtony239！）。
*   修正了窗口调整大小时聊天布局的内边距问题（感谢 zhangtony239！）。
*   简化和精简了 Roo Code 的[快速操作](/features/code-actions)。

    <img src="/img/v3.15/v3.15-1.png" width="350" />

*   改进了某些高对比度 VSCode 主题的自动批准切换按钮。
*   将耗时的令牌计数操作卸载到 Web Worker 以提升性能（感谢 samhvw8）。
*   改进了对多根工作区的支持（感谢 snoyiatk）。
*   改进了模式切换的性能（感谢 dlab-anton）。
*   改进了 Mermaid 图表渲染，提供更清晰的错误信息和复制代码按钮。

    <img src="/img/v3.15.2/v3.15.2.png" alt="带有复制代码按钮的 Mermaid 图表错误信息" width="600" />

*   使集成终端显著更快、更流畅。
*   改进了停止终端命令的可靠性。
*   优化了聊天中内联代码的样式以提高可读性（感谢 dicharkan！）。
*   当没有工具组时，明确了模式视图中工具组的显示。
*   改进了聊天中代码块的渲染性能（感谢 KJ7LNW！）。

---

## 错误修复

*   修复了一个可能导致 Roo Code 挂起的严重错误，尤其是在 Orchestrator 模式下。
*   终端：修复空命令错误。
*   终端：更强大的进程终止功能。
*   使重试操作遵守全局自动批准复选框。
*   修复了历史视图中的选择模式错误（感谢 jr！）。
*   修复了包含空格的文件名的文件提及功能。
*   修复了自定义模式的导入和导出功能（感谢 julionav）。

---

## 提供商更新

*   为 Google Vertex 添加了提示缓存（感谢 ashktn）。
*   为 OpenAI 兼容提供商添加了推理努力设置（感谢 mr-ryan-james）。
*   为 OpenAI/OpenAI 兼容提供商添加了对自定义 API 基础 URL 的支持（感谢 gongzhongqiang！）。
*   为 OpenAI 兼容提供商添加了对自定义标头的支持。
*   将 `@google/genai` 更新到 `0.12`（包含一些流式完成错误修复）。
*   提高 Gemini 缓存效率。
*   优化 OpenRouter 的 Gemini 提示缓存。

---

## 其他改进

*   聊天视图性能改进。
*   移除了未使用的类型（感谢 wkordalski）。