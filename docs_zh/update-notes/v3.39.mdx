---
description: Roo Code 3.39 版本包含任务级提供商配置文件持久化、改进的多模态工作流、新的提供商/模型选项，以及对工具调用可靠性的修复。
keywords:
  - roo code 3.39
  - new features
  - bug fixes
---

# Roo Code 3.39 版本发布说明（整合版）

Roo Code 3.39 版本包含任务级提供商配置文件持久化、改进的多模态工作流、新的提供商/模型选项，以及对工具调用可靠性的修复。

## 功能特性

* **任务级 API 配置配置文件**：Roo 可以按任务持久化所选的提供商配置文件，以便后续会话继续使用相同的提供商/模型设置。
* **图像文件 @提及**：您可以在工作区中提及图像，直接从聊天中为模型提供视觉上下文。
* **无头 Roo Code（CLI + VS Code 垫片）**：在基本 CLI 的无头环境中运行 Roo Code，同时提供安装程序以及使用 CLI 进行评估的选项。
* **调试代理路由**：添加调试模式代理路由，帮助排查 API 调用问题。

## 体验优化

* **BRRR 命名更新**：将 YOLO 重命名为 BRRR。
* **更智能的文件 @提及搜索**：使用 `.rooignore` 过滤文件 @提及结果。
* **更好的工具文档**：改进原生 `read_file` 工具描述和示例。
* **Web 评估可用性**：记住您在 Web 评估中最后一次选择的模型，并添加评估技能。

## Bug 修复

* 修复 Windows 上的 PowerShell ENOENT 问题。
* 修复 Windows 上 Shell 感知命令链示例的问题。
* 修复可能导致 API 错误的 tool-result 保留/去重问题。
* 修复工具协议 UI 和提供商配置详情相关的问题。

## 提供商更新

* 为多个提供商添加新的/更新的模型（例如 Fireworks AI、OpenAI 兼容端点、Cerebras）。

---

## 补丁版本

### 3.39.3 (2026-01-10)

* 将 Roo Code Cloud Provider 重命名为 **Roo Code Router**，以提供更清晰的品牌标识。
* 更新 Roo Code Router 服务名称和相关措辞，使 UI 使用一致的命名。
* 改进 ExtensionHost 在模式变更方面的内部组织。
* 添加选项以本地构建和安装 CLI 版本进行测试。
* 重组 CLI 文件结构以提高可维护性。
* 为 Roo CLI 添加交互式 TUI 模式。

### 3.39.2 (2026-01-09)

* 在 Roo Code 设置（关于 Roo Code）中添加**启用调试模式**开关，以便您可以通过扩展 UI 打开/关闭调试日志记录。
* 改进当提供商提前终止流式响应时显示的错误消息，使其更清楚地表明中断来自提供商。
* 修复 Cerebras 在聊天同时包含内置工具和 MCP 工具时可能无法进行工具调用的问题。
* 修复 OpenAI 兼容提供商的工具调用问题。
* 修复由于 `edit_file` 匹配过于严格而导致文件编辑无法应用的情况。
* 修复 VS Code 语言模型 (vscode-lm) 集成可能因消息部分排序而报错的问题。
* 修复通过 OpenRouter 发送的 Gemini 请求在助手消息仅包含工具调用时可能失败的问题。
* 修复在添加反馈时批准工具运行可能产生重复工具结果的问题。
* 通过正确保留思维签名来提高 Gemini 工具调用的可靠性。
* 提高 Gemini 和 Vertex 模型的文件编辑可靠性。
* 通过将默认模型切换为 `anthropic/claude-opus-4.5` 来更新 Roo Code CLI 默认设置。
* 更新 Roo Code Cloud 的服务条款（生效日期：2026-01-09）。

### 3.39.1 (2026-01-08)

* 修复原生工具调用流式传输期间显示的文件路径可能不正确或被截断的问题。
* 修复恢复带有 Gemini 扩展思维的任务时可能因“损坏的思维签名”/INVALID_ARGUMENT 错误而失败的问题。
* 修复影响 `ask_followup_question` 的 Anthropic 工具模式兼容性问题。