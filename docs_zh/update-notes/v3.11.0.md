---
description: Roo Code 3.11.0 引入了快速多块差异编辑、项目级 MCP 配置、API 密钥余额显示、改进的 Gemini 支持以及设置的导入/导出功能。
keywords:
  - roo code 3.11.0
  - fast edits
  - multi-block diff
  - project mcp config
  - api key balances
  - gemini support
  - settings management
  - release notes
---

# Roo Code 3.11.0 发布说明（2025-03-30）

本次发布引入了更快的差异编辑功能、项目级 MCP 配置、API 密钥余额显示、改进的 Gemini 集成、设置的导入/导出、API 配置文件的置顶与排序、可编辑的建议答案，以及众多其他增强功能和错误修复。

---

## 快速编辑（多块差异）

Roo Code 的默认编辑机制现已为 [`apply_diff`](/advanced-usage/available-tools/apply-diff) 工具采用多块差异策略。这种方式显著提升了性能，尤其是在一次性应用多个更改时，因为它仅修改必要的行，而非重写整个文件。这不仅加快了编辑速度，还能避免大文件写入被截断等问题。

了解更多关于 [`apply_diff`](/advanced-usage/available-tools/apply-diff) 的信息。

---

## 项目级 MCP 配置

现在可通过项目根目录下的 `.roo/mcp.json` 文件在项目或工作区级别定义 MCP（Mode 通信协议）服务器配置。这使得不同项目可以拥有定制化的 MCP 设置，并优先于全局 MCP 配置生效。（感谢 aheizi！）

了解更多关于 [编辑 MCP 设置文件](/features/mcp/using-mcp-in-roo#editing-mcp-settings-files) 的信息。

---

## API 密钥余额

您现在可以直接在 Roo Code 的 API 提供者设置中方便地查看 OpenRouter 和 Requesty 的当前信用余额。

---

## 改进的 Gemini 支持

*   **更智能的重试逻辑：** 对 Gemini API 的临时性问题（包括速率限制和错误响应）进行了更智能的处理。
*   **改进的字符转义：** 解决了字符转义问题，从而实现更准确的代码生成。
*   **Gemini 2.5 Pro 支持：** 通过 GCP Vertex AI 添加了对 Gemini 2.5 Pro 模型的支持。（感谢 nbihan-mediware！）

---

## 设置管理

*   **导入/导出设置：** 可将您的 Roo Code 设置导出为 JSON 文件以便备份或共享，也可导入设置以合并配置。
*   **置顶和排序 API 配置文件：** 可将常用的 API 配置文件置顶，并在设置下拉菜单中自定义排序。（感谢 jwcraig！）

了解更多关于 [导入/导出/重置设置](/features/settings-management) 以及 [置顶和排序配置文件](/features/api-configuration-profiles#pinning-and-sorting-profiles) 的信息。

---

## 体验优化（QOL）

*   **可编辑的建议答案：** 来自 [`ask_followup_question`](/advanced-usage/available-tools/ask-followup-question) 的建议答案现在可在接受前进行编辑。（感谢 samhvw8！）
*   **部分文件读取：** 对大文件的部分读取功能进行了增强。（感谢 KJ7LNW！）
*   **“添加到上下文”操作：** 在代码操作菜单中优先显示，并包含行号。（感谢 samhvw8！）
*   **外部激活命令：** 新增命令，供其他扩展与 Roo Code 交互。（感谢 gtaylor！）
*   **浏览器工具改进：** 修复并优化了多项功能。（感谢 afshawnlotfi！）
*   **部分读取信息：** 在聊天界面中显示。
*   **设置链接：** 已添加至自动批准操作工具栏。
*   **提供商文档链接：** 已添加至 API 配置选项中。
*   **自定义 OpenAI 兼容模型：** 支持自定义 `o3-mini-` 模型。（感谢 snoyiatk！）
*   **带空格的文件名提及：** 支持对文件名包含空格的文件使用 @-提及。（感谢 samhvw8！）
*   **列出文件的代码定义名称：** `list_code_definition_names` 工具现在支持单个文件。（感谢 KJ7LNW！）
*   **保留提及中的语言字符：** 文件 @-提及现在保留语言特定字符。（感谢 aheizi！）

---

## 错误修复

*   修复了 Gemini 命令转义问题。
*   修复了切换配置文件的逻辑，确保仅切换所选的配置文件（感谢 feifei325！）。

---

## 杂项改进

*   **工具调用逻辑重构：** 进行了重大内部重构。（感谢 diarmidmackenzie、bramburn、KJ7LNW 及其他贡献者！）
*   在聊天行中显示部分读取的信息。
*   从自动批准工具栏链接到设置页面。
*   从 API 选项链接到提供商文档。