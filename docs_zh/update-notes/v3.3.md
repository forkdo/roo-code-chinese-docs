---
description: Roo Code 3.3 带来了 VS Code 代码操作、模式切换、调试模式、实验性检查点、@terminal 提及、增强的 Markdown 编辑功能，以及对各种提供商的广泛更新。
keywords:
  - roo code 3.3
  - code actions
  - debug mode
  - checkpoints
  - terminal mention
  - mode switching
  - power steering
  - custom modes
  - aws bedrock
  - deepseek r1
---

# Roo Code 3.3 版本说明 (2025-02-27)

本次大规模更新带来了众多新功能，包括原生 VS Code 代码操作、模式间切换、增强的 Ask/Architect 模式 Markdown 编辑功能、自定义模式文件限制、Bedrock AWS 配置文件支持、全新的“调试”模式、实验性“动力转向”功能、项目特定的自定义模式、`@terminal` 上下文提及、改进的 API 配置文件管理，以及大量提升用户体验的改进、提供商更新和错误修复。

---

## 主要功能与增强

*   **原生 VS Code 代码操作：** 实现了原生 VS Code 代码操作，用于快速修复和重构选项。
*   **模式切换请求：** 模式现在可以在需要时请求切换到其他模式。
*   **增强的 Ask 和 Architect 模式：** Ask 和 Architect 模式现在可以编辑 Markdown 文件。
*   **自定义模式文件限制：** 自定义模式现在可以限制为特定的文件模式。
*   **“调试”模式：** 新增了一个专门用于诊断和修复问题的“调试”模式。
*   **实验性“动力转向”：** 引入了一个实验性选项，可显著提高对角色定义和自定义指令的遵循度。
*   **项目特定的自定义模式：** 支持在 `.roomodes` 文件中定义项目特定的自定义模式。
*   **`@terminal` 上下文提及：** 新增提及 `@terminal` 的功能，可将终端输出拉入聊天上下文。（感谢 Cline！）
*   **实验性编辑工具：** 引入了 `insert_content` 和 `search_and_replace` 工具。（感谢 @samhvw8！）
*   **上下文窗口使用情况显示：** 在任务标题中显示上下文窗口使用情况。（感谢 @MuriloFP！）
*   **自动批准模式切换：** 添加了复选框以自动批准模式切换请求。（感谢 @MuriloFP！）
*   **新建任务工具：** 添加了 `new_task` 工具，允许 Roo 使用初始消息和模式启动新任务。
*   **检查点（实验性且已改进）：** 使用影子 git 仓库引入了实验性检查点，并随后修复了 Windows 文件锁和 UI 问题。（感谢 Cline！）
*   **每个 MCP 服务器的网络超时：** 添加了每个 MCP 服务器的网络超时配置。
*   **代码操作任务目标：** 可选择在现有任务或新任务中执行解释/改进/修复代码操作。（感谢 @samhvw8！）

---

## 提供商更新

*   **Bedrock AWS 配置文件：** 支持使用 AWS 配置文件配置 Bedrock 提供商。
*   **Mistral 模型：** 添加了更多 Mistral 模型。（感谢 @d-oit、@bramburn！）
*   **Requesty 提供商：** 添加了 Requesty 提供商。（感谢 @samhvw8！）
*   **Volcano Ark 平台：** 通过 OpenAI 兼容提供商支持 Volcano Ark 平台。
*   **新的 Gemini 模型：** 添加了新的 Gemini 模型。
*   **o3-mini 模型：** 添加了 o3-mini-high、o3-mini-low 以及对通用 o3-mini 的支持。（感谢 @shpigunov！）
*   **Perplexity/Sonar-Reasoning：** 添加了对 perplexity/sonar-reasoning 的支持。（感谢 @Szpadel！）
*   **Unbound 提供商：** 添加了 Unbound 提供商。（感谢 @vigneshsubbiah16！）
*   **OpenRouter DeepSeek-R1 集成：** 通过设置推荐温度并显示推理输出来改进集成。（感谢 @Szpadel！）
*   **自定义 OpenRouter 基础 URL：** 允许指定自定义 OpenRouter 基础 URL。（感谢 @dairui1！）

---

## 用户体验改进与 UI

*   **改进的提供商设置 UI：** 在提供商设置中提供了更清晰的“保存”按钮和未保存更改的警告。（感谢 @System233！）
*   **自定义首选语言：** 在“提示”选项卡中添加了设置自定义首选语言的支持，包括加泰罗尼亚语。（感谢 @alarno！）
*   **MCP 服务器删除：** 添加了删除 MCP 服务器的按钮。（感谢 @hannesrudolph！）
*   **模式的 API 配置下拉菜单：** 在“提示”选项卡中为模式添加了选择 API 配置的下拉菜单。
*   **更美观的嵌套设置 UI：** 改进了嵌套设置的用户界面。（感谢 @PretzelVector！）
*   **斜杠命令自动补全。**
*   **@-提及中的打开标签页：** 在 @-提及中添加了当前打开标签页的快捷方式。（感谢 @olup！）
*   **改进的终端 Shell 检测。**（感谢 @canvrno、@nissa-seru！）
*   **视觉改进：** 对下拉菜单、模式列表和聊天输入样式进行了各种视觉修复。（感谢 @psv2522！）
*   **包含批准/拒绝工具的消息。**（感谢 @napter！）
*   **带指数退避和速率限制的 API 重试。**
*   **文档网站的帮助按钮。**
*   **每个 API 模型的温度设置。**（感谢 @joemanley201！）
*   **最近任务和系统提示的复制按钮。**（感谢 @hannesrudolph、@mamertofabian！）
*   **改进的新 API 配置文件用户体验。**
*   **终端上下文菜单。**（感谢 @samhvw8！）
*   **非缓存模型的滑动窗口截断。**（感谢 @nissa-seru！）

---

## 错误修复

*   修复了多个 API 配置文件切换错误。（感谢 @System233、@samhvw8！）
*   修复了 AWS Bedrock 区域选择。（感谢 @oprstchn！）
*   修复了自定义指令文件读取错误。（感谢 @joemanley201！）
*   修复了 `.roomodes` 自动创建。
*   修复了 Mistral 集成。（感谢 @d-oit！）
*   修复了系统提示模式感知。
*   修复了欢迎屏幕 API 密钥竞争条件。
*   修复了文件写入中止未恢复。
*   修复了禁用的 MCP 服务器显示。（感谢 @MuriloFP！）
*   修复了 Ollama/LMStudio URL 输入闪烁。
*   修复了 o1-mini 定价。（感谢 @hesara！）
*   修复了上下文窗口大小计算。（感谢 @MuriloFP！）
*   修复了 Glama 提供商中的 o3-mini。（感谢 @Punkpeye！）
*   修复了 qwen-max 和其他 OpenAI 兼容提供商问题。（感谢 @Szpadel！）
*   修复了终端管理创建不必要的终端。（感谢 @evan-fannin！）
*   修复了模式切换后未选择已保存的 API 提供商。

---

## 其他改进

*   更新了 gpt-4o 价格。（感谢 @marvijo-code！）
*   为 OpenAI o1 启用了流式传输。
*   使 Ask 模式对 Markdown 文件为只读。
*   添加了打开标签页上下文数量的设置。
*   遵循 VS Code 主题作为对话框背景。
*   允许清除内置模式的默认自定义指令。
*   添加了 OpenRouter 使用统计重试。（感谢 @jcbdev！）
*   自定义模式创建的提示调整。
*   改进了 DeepSeek R1 支持。（感谢 @Szpadel！）
*   加快了差异编辑。（感谢 @hannesrudolph、@KyleHerndon！）
*   对于受限文件写入，更快地抛出错误。
*   新的 Roo Code 社区 Discord。