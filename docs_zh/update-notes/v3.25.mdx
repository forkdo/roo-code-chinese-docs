---
description: Roo Code 3.25 引入了 Sonic 隐形模型（262K 上下文）、自定义斜杠命令、Gemini 网络工具、图像支持、消息排队、Cerebras AI 提供商、成本限制、Vertex AI 接地、子任务待办列表以及许多生活质量改进。
keywords:
  - roo code 3.25
  - sonic model
  - custom slash commands
  - gemini tools
  - image support
  - message queueing
  - cerebras provider
  - cost limits
  - vertex ai grounding
  - subtask todos
---

# Roo Code 3.25 发布说明

此版本为 Roo Code 带来了强大的新功能，包括具有 262,144-token 上下文和 72 小时免费访问的 Sonic 隐形模型、用于工作流自动化的自定义斜杠命令、具有网络访问功能的增强 Gemini 模型、全面的图像支持、用于不间断对话的无缝消息排队、新的 Cerebras AI 提供商、用于预算控制的自动批准成本限制、Vertex AI 接地功能以及子任务待办列表支持。

### Vertex AI 接地功能

Vertex AI 用户现在可以访问之前仅限于 Gemini 提供商的强大接地功能（感谢 anguslees！）([#6777](https://github.com/RooCodeInc/Roo-Code/pull/6777))：

- **Google 搜索接地**：直接在 AI 响应中获取来自网络搜索的实时信息
- **URL 上下文**：提供特定网页作为上下文，以获得更准确、最新的响应
- **增强准确性**：将 AI 功能与当前网络信息结合，获得更好的结果

这些功能使 Vertex AI 在接地功能方面与 Gemini 达到功能对等。

> **📚 文档**：查看 [Vertex AI Provider](/providers/vertex) 了解配置详情。

### 子任务待办列表

通过新的子任务可选待办列表参数简化层次任务规划 ([#6775](https://github.com/RooCodeInc/Roo-Code/pull/6775))：

- **传递待办列表**：创建子任务时包含预定义的待办列表
- **维护上下文**：以待办列表的形式将上下文传递给子任务
- **可选强制执行**：VS Code 中的"新任务需要待办事项"设置可以根据需要强制所有新子任务使用待办列表

<img src="/img/v3.25.21/v3.25.21.png" alt="VS Code 设置中的子任务待办列表配置" width="600" />

此功能开箱即用，您可以选择性地配置 VS Code 设置以要求所有新任务使用待办事项。

> **📚 文档**：查看 [Task Todo List](/features/task-todo-list) 了解待办列表管理的详细信息。

### 自定义斜杠命令

创建自己的斜杠命令来自动化重复性工作流 ([#6263](https://github.com/RooCodeInc/Roo-Code/pull/6263), [#6286](https://github.com/RooCodeInc/Roo-Code/pull/6286), [#6333](https://github.com/RooCodeInc/Roo-Code/pull/6333), [#6336](https://github.com/RooCodeInc/Roo-Code/pull/6336), [#6327](https://github.com/RooCodeInc/Roo-Code/pull/6327))：

- **基于文件的命令**：将 markdown 文件放置在 `.roo/commands/` 中以即时创建自定义命令
- **管理界面**：用于创建、编辑和删除命令的新界面，内置模糊搜索
- **参数提示**：命令在您输入时显示有关必需参数的有用提示
- **丰富描述**：添加元数据和描述以使命令自文档化

<img src="/img/slash-commands/slash-commands-4.png" alt="显示可用命令的斜杠命令菜单" width="600" />

将复杂工作流转换为简单的命令，如 `/deploy` 或 `/review`，以加快开发速度。

> **📚 文档**：查看 [Slash Commands Guide](/features/slash-commands) 了解详细的使用说明。

### 消息排队

通过新的消息排队系统在 Roo 处理您的请求时继续输入 ([#6167](https://github.com/RooCodeInc/Roo-Code/pull/6167))：

- **非阻塞输入**：即使在 Roo 处理先前请求时也可以输入和发送消息
- **顺序处理**：消息按发送顺序排队和处理
- **视觉反馈**：在界面中清楚显示排队的消息
- **维护上下文**：每条消息都保持对话的适当上下文

当您有多个快速问题或更正时，保持工作流顺畅。

> **📚 文档**：查看 [Message Queueing Guide](/features/message-queueing) 了解详细信息。

### read_file Tool 的图像支持

[`read_file`](/advanced-usage/available-tools/read-file) tool 现在支持读取和分析图像（感谢 samhvw8！）([#5172](https://github.com/RooCodeInc/Roo-Code/pull/5172))：

- **多种格式**：支持 PNG、JPG、JPEG、GIF、WebP、SVG、BMP、ICO 和 TIFF
- **OCR 功能**：从屏幕截图和扫描文档中提取文本
- **批量处理**：从文件夹中读取多张图像并附带描述
- **简单集成**：就像读取文本文件一样工作 - 无需特殊配置

对于分析 UI 原型、调试屏幕截图错误或从图像中提取代码很有用。

### Gemini Tools：URL 上下文和 Google 搜索

Gemini 模型现在可以访问网络内容并执行 Google 搜索，以获得更准确、最新的响应（感谢 HahaBill！）([#5959](https://github.com/RooCodeInc/Roo-Code/pull/5959))：

- **URL 上下文**：直接分析网页、文档和在线资源
- **Google 搜索接地**：基于当前搜索结果获得事实核查的响应
- **用户控制**：根据您的隐私偏好启用或禁用网络功能
- **实时信息**：访问最新的文档和最佳实践

非常适合研究新库、验证解决方案或获取当前 API 信息。

> **📚 文档**：查看 [Gemini Provider Guide](/providers/gemini) 了解设置和使用说明。

### 上下文感知提示增强

提示增强现在使用您的对话历史来获得更好的建议（感谢 liwilliam2021！）([#6343](https://github.com/RooCodeInc/Roo-Code/pull/6343))：

- **更智能的建议**：增强考虑您最近的 10 条消息以生成更相关的提示
- **减少幻觉**：上下文感知防止 AI 提出无根据的建议
- **灵活配置**：为增强操作使用单独的 API 配置
- **切换控制**：根据您的需要启用或禁用任务历史包含

要启用此功能：设置 → 提示标签 → 选择"ENHANCE" → 勾选"在增强中包含任务历史"以获得更好的上下文。

> **📚 文档**：查看 [Prompt Enhancement Guide](/features/enhance-prompt) 了解配置选项。

### 自动批准成本限制

我们在自动批准设置中引入了一个新的成本控制功能，以帮助管理 API 支出：

- **预算保护**：在您的自动批准设置中设置最大成本限制以控制总 API 支出
- **自动提示**：当接近您的成本限制时，Roo Code 将提示批准
- **补充请求限制**：与现有的请求计数限制一起工作，实现全面控制

<img src="/img/v3.25.5/v3.25.5.png" alt="自动批准设置显示新的最大成本字段" width="600" />

此功能在使用昂贵模型或运行长时间会话时为您提供安心，确保您保持在预算范围内。您可以在自动批准配置面板中的现有"最大计数"旁边找到这个新的"最大成本"设置。

### 生活质量改进

在您的日常工作流中产生重大影响的小改动：

* **Groq 上 Kimi K2 的 Prompt Caching**：为 Groq 上的 Kimi K2 模型添加了 prompt caching 支持，对缓存的输入 token 提供 50% 折扣，提高成本效率 ([#7324](https://github.com/RooCodeInc/Roo-Code/pull/7324))
* **全局自定义指令文档**：在 UI 中添加了有用的文档链接，使全局自定义指令更容易被发现和理解 ([#7114](https://github.com/RooCodeInc/Roo-Code/pull/7114))
* **上下文窗口错误处理**：改进了在达到上下文限制时的错误检测和自动恢复 - 系统现在可以检测来自多个提供商（OpenAI、Anthropic、Cerebras）的错误，并在重试前自动截断 25% 的上下文（最多 3 次尝试）([#6967](https://github.com/RooCodeInc/Roo-Code/pull/6967))
* **市场过滤器**：新增"仅显示已安装"复选框，轻松查看和管理您已安装的 MCPs 和 modes（感谢 semidark！）([#7007](https://github.com/RooCodeInc/Roo-Code/pull/7007))
* **DeepSeek 上下文**：更新 DeepSeek 模型以支持 128k 上下文窗口 ([#7269](https://github.com/RooCodeInc/Roo-Code/pull/7269))
* **Sonnet 1M 上下文支持**：在使用 AWS Bedrock 时为 Claude 3.5 Sonnet 和 Claude Sonnet 4 启用 1M token 上下文窗口，允许您处理更大的文档和进行更长的对话 ([#7032](https://github.com/RooCodeInc/Roo-Code/pull/7032))
* **国际化**：账户按钮现在以您选择的语言显示，而不是始终显示英文（感谢 zhangtony239！）([#6978](https://github.com/RooCodeInc/Roo-Code/pull/6978))
* **Agent 文件灵活性**：Roo Code 现在识别 AGENT.md 和 AGENTS.md 文件作为 agent 规则，优先检查 AGENTS.md 以确保兼容性（感谢 Brendan-Z！）([#6913](https://github.com/RooCodeInc/Roo-Code/pull/6913))
* **SEO 改进**：通过适当的元数据和社交媒体预览卡片增强网站可发现性（感谢 elianiva, abumalick！）([#7096](https://github.com/RooCodeInc/Roo-Code/pull/7096))
* **站点地图生成**：实现基于 TypeScript 的站点地图生成，以获得更好的搜索引擎索引（感谢 abumalick！）([#6206](https://github.com/RooCodeInc/Roo-Code/pull/6206))
* **聊天输入焦点**：通过 + 按钮创建新聊天时，聊天输入现在会自动获得焦点，允许您立即开始输入 ([#6689](https://github.com/RooCodeInc/Roo-Code/pull/6689))
* **Gemini 2.5 Pro 思考预算灵活性**：最小思考预算从 1024 降低到 128 tokens，非常适合需要快速、专注响应而无需广泛推理的任务。您需要在设置中手动将思考预算调整为 128 才能利用此功能。([#6588](https://github.com/RooCodeInc/Roo-Code/pull/6588))
* **多文件夹工作区支持**：代码索引现在在多文件夹工作区的所有文件夹中正确工作（感谢 NaccOll！）([#6204](https://github.com/RooCodeInc/Roo-Code/pull/6204))
* **检查点时机**：检查点现在在文件更改之前保存，允许轻松撤销不需要的修改（感谢 NaccOll！）([#6359](https://github.com/RooCodeInc/Roo-Code/pull/6359))
* **重新设计任务标题**：更简洁、更直观的界面，具有改进的视觉层次结构（感谢 brunobergher！）([#6561](https://github.com/RooCodeInc/Roo-Code/pull/6561))
* **一致的检查点术语**：移除"初始检查点"术语以获得更好的一致性 ([#6643](https://github.com/RooCodeInc/Roo-Code/pull/6643))
* **响应式 Mode 下拉菜单**：Mode 选择下拉菜单现在会随窗口正确调整大小（感谢 AyazKaan！）([#6422](https://github.com/RooCodeInc/Roo-Code/pull/6422))
* **性能提升**：显著改进处理长 AI 响应时的性能（感谢 qdaxb！）([#5341](https://github.com/RooCodeInc/Roo-Code/pull/5341))
* **更简洁的命令批准 UI**：简化界面，仅显示唯一命令模式 ([#6623](https://github.com/RooCodeInc/Roo-Code/pull/6623))
* **智能 Todo 列表提醒**：Todo 列表提醒现在遵循配置设置（感谢 NaccOll！）([#6411](https://github.com/RooCodeInc/Roo-Code/pull/6411))
* **更简洁的任务历史**：改进任务历史显示，显示更多内容（3 行），预览最多 5 个任务，并简化页脚 ([#6687](https://github.com/RooCodeInc/Roo-Code/pull/6687))
* **Markdown 表格渲染**：表格现在以正确格式显示，而不是原始 markdown，以获得更好的可读性 ([#6252](https://github.com/RooCodeInc/Roo-Code/pull/6252))
  <img src="/img/v3.25.0/v3.25.0-2.png" alt="Markdown table rendering in Roo Code" width="600" />
* **Mode 选择器弹出窗口重新设计**：改进布局，在您安装了许多 modes 时提供搜索功能 ([#6140](https://github.com/RooCodeInc/Roo-Code/pull/6140))
  <img src="/img/v3.25.0/v3.25.0.png" alt="Mode Selector Popover with Search" width="600" />
* **API 选择器弹出窗口重新设计**：更新以匹配新的 mode 选择器设计，具有改进的布局 ([#6148](https://github.com/RooCodeInc/Roo-Code/pull/6148))
  <img src="/img/v3.25.0/v3.25.0-1.png" alt="API Configuration Selector Redesign" width="600" />
* **自动批准 UI**：更简洁流畅的界面，具有改进的本地化 ([#6538](https://github.com/RooCodeInc/Roo-Code/pull/6538))
* **粘性任务 Modes**：任务记住其最后使用的 mode 并自动恢复 ([#6177](https://github.com/RooCodeInc/Roo-Code/pull/6177))
* **ESC 键支持**：使用 ESC 关闭弹出窗口，以获得更好的键盘导航 ([#6175](https://github.com/RooCodeInc/Roo-Code/pull/6175))
* **改进的命令高亮**：仅在输入字段中高亮显示有效命令 ([#6336](https://github.com/RooCodeInc/Roo-Code/pull/6336))
* **命令验证**：更好地处理后台执行（`&`）和子 shell 模式，如 `(cmd1; cmd2)` ([#6486](https://github.com/RooCodeInc/Roo-Code/pull/6486))
* **子 shell 验证**：改进对具有子 shell 的复杂 shell 命令的处理和验证，在使用命令替换模式时防止潜在错误 ([#6379](https://github.com/RooCodeInc/Roo-Code/pull/6379))
* **斜杠命令图标悬停状态**：修复斜杠命令图标的悬停状态，以在交互期间提供更好的视觉反馈 ([#6388](https://github.com/RooCodeInc/Roo-Code/pull/6388))
* **更简洁的欢迎视图**：欢迎屏幕上现在隐藏 Gemini 复选框，以获得更简洁的界面 ([#6415](https://github.com/RooCodeInc/Roo-Code/pull/6415))
* **斜杠命令文档**：添加斜杠命令文档的直接链接，以便更容易访问 ([#6409](https://github.com/RooCodeInc/Roo-Code/pull/6409))
* **文档更新**：澄清 apply_diff 工具描述，强调精确编辑 ([#6278](https://github.com/RooCodeInc/Roo-Code/pull/6278))
* **任务恢复消息**：通过移除关于恢复任务的误导性消息来改进 LLM 指令（感谢 KJ7LNW！）([#5851](https://github.com/RooCodeInc/Roo-Code/pull/5851))
* **AGENTS.md 支持**：为 AGENTS.md 文件加载添加符号链接支持 ([#6326](https://github.com/RooCodeInc/Roo-Code/pull/6326))
* **市场更新**：当组织设置更改时自动刷新市场数据 ([#6446](https://github.com/RooCodeInc/Roo-Code/pull/6446))
* **`codebase_search` 工具**：澄清 `path` 参数是可选的，默认情况下工具会搜索整个工作区 ([#6877](https://github.com/RooCodeInc/Roo-Code/pull/6877))
* **Token 使用报告**：修复了 token 使用量和成本被低估的问题，提供更准确的成本跟踪（感谢 chrarnoldus！）([#6122](https://github.com/RooCodeInc/Roo-Code/pull/6122))
* **增强任务历史**：将"使用任务历史增强"默认设置为 true，以在对话中更好地保留上下文（感谢 liwilliam2021！）([#7140](https://github.com/RooCodeInc/Roo-Code/pull/7140))
* **改进的滚动条**：通过移除 500 条消息限制来修复长对话中的滚动条跳动问题 ([#7064](https://github.com/RooCodeInc/Roo-Code/pull/7064))

* **Sonic Model 公告**：添加了公告以通知用户 Sonic 模型的可用性，使用户更容易发现新的模型选项（感谢 mrubens！）([#7244](https://github.com/RooCodeInc/Roo-Code/pull/7244))
* **发布管理**：为 v3.25.20 添加了 changeset 以确保正确的版本管理（感谢 mrubens！）([#7245](https://github.com/RooCodeInc/Roo-Code/pull/7245))

### Bug 修复

关键修复，提升稳定性和兼容性：

* **OpenAI 响应**: 修复了 GPT-5 子任务结果在 OpenAI 响应 API 中未正确提供 ([#7305](https://github.com/RooCodeInc/Roo-Code/pull/7305))
* **温度处理**: 修复了 OpenAI 兼容提供者的温度参数问题 ([#7188](https://github.com/RooCodeInc/Roo-Code/pull/7188))
* **提供者验证**: 将 'roo' 提供者添加到密钥验证函数中 ([#7239](https://github.com/RooCodeInc/Roo-Code/pull/7239))
* **UI 稳定性**: 修复了处理空/未定义令牌值时上下文压缩 UI 崩溃的问题 ([#6916](https://github.com/RooCodeInc/Roo-Code/pull/6916))
* **存储检查**: 改进了文件系统检查以更好地处理存储（感谢 elianiva！）([#7164](https://github.com/RooCodeInc/Roo-Code/pull/7164))
* **滚动条跳动**: 修复了超过 500 条消息的长对话中的烦人滚动条跳动问题（感谢 shlgug, adambrand！）([#7064](https://github.com/RooCodeInc/Roo-Code/pull/7064))
* **多文件夹工作区**: 修复了多文件夹 VS Code 工作区中的工作区路径处理和"文件未找到"错误（感谢 NaccOll！）([#6903](https://github.com/RooCodeInc/Roo-Code/pull/6903), [#6902](https://github.com/RooCodeInc/Roo-Code/pull/6902))
* **任务执行稳定性**: 改进了长时间运行任务期间的稳定性，有助于解决"灰色屏幕"问题（感谢 catrielmuller, MuriloFP！）([#7035](https://github.com/RooCodeInc/Roo-Code/pull/7035))
* **提供者设置保存按钮**: 保存按钮现在在更改提供者下拉菜单和复选框时正确启用 ([#7113](https://github.com/RooCodeInc/Roo-Code/pull/7113))
* **XML 实体解码**: 修复了处理包含特殊字符（如"&"）的文件时 apply_diff 工具失败的问题（感谢 indiesewell！）([#7108](https://github.com/RooCodeInc/Roo-Code/pull/7108))
* **设置显示**: 修复了设置 UI 中 Max Requests 和 Max Cost 值不显示的问题（感谢 chrarnoldus, possible055！）([#6925](https://github.com/RooCodeInc/Roo-Code/pull/6925))
* **上下文压缩指示器**: 修复了切换任务时压缩指示器错误持续存在的问题（感谢 f14XuanLv！）([#6922](https://github.com/RooCodeInc/Roo-Code/pull/6922))
* **令牌计算**: 修复了舍入错误，通过确保最大输出令牌正确向上舍入，使 GLM-4.5 等特定模型能够正常工作（感谢 markp018！）([#6808](https://github.com/RooCodeInc/Roo-Code/pull/6808))
* **XML 解析**: 通过实现适当的 CDATA 部分，修复了在使用包含特殊字符的复杂 XML 文件时使用 apply_diff 工具的错误 ([#6811](https://github.com/RooCodeInc/Roo-Code/pull/6811))
* **MCP 错误消息**: 修复了 MCP 服务器错误显示原始翻译键而不是正确错误消息的问题 ([#6821](https://github.com/RooCodeInc/Roo-Code/pull/6821))
* **内存泄漏修复**: 解决了长对话中的关键内存泄漏问题，该问题导致内存使用过多和灰色屏幕。虚拟滚动现在限制视口渲染并优化缓存，以确保无论对话长度如何都能稳定性能。（感谢 xyOz-dev！）([#6697](https://github.com/RooCodeInc/Roo-Code/pull/6697))
* **禁用的 MCP 服务器**: 修复了禁用的 MCP 服务器仍在启动进程并消耗资源的问题。禁用的服务器现在真正保持禁用状态，并在全局禁用 MCP 时显示清晰的状态指示器和立即清理。（[#6084](https://github.com/RooCodeInc/Roo-Code/pull/6084)）
* **MCP 服务器刷新**: 设置更改不再触发不必要的 MCP 服务器刷新 ([#6779](https://github.com/RooCodeInc/Roo-Code/pull/6779))
* **代码库搜索**: 该工具现在在使用"."作为路径时正确搜索整个工作区 ([#6517](https://github.com/RooCodeInc/Roo-Code/pull/6517))
* **Swift 文件支持**: 修复了索引包含 Swift 文件的项目时 VS Code 崩溃的问题（感谢 niteshbalusu11, sealad886！）([#6724](https://github.com/RooCodeInc/Roo-Code/pull/6724))
* **上下文管理**: 模型最大令牌现在智能限制为上下文窗口的 20%，以防止过度压缩 ([#6761](https://github.com/RooCodeInc/Roo-Code/pull/6761))
* **OpenAI 配置**: 基础 URL 中的额外空白不再破坏模型检测（感谢 vauhochzett！）([#6560](https://github.com/RooCodeInc/Roo-Code/pull/6560))
* **URL 获取**: 从 URL 获取内容时更好的错误恢复（感谢 QuinsZouls！）([#6635](https://github.com/RooCodeInc/Roo-Code/pull/6635))
* **Qdrant 恢复**: Qdrant 在启动错误后可用时代码索引自动恢复 ([#6661](https://github.com/RooCodeInc/Roo-Code/pull/6661))
* **聊天滚动**: 消除了消息流式传输期间的滚动抖动 ([#6780](https://github.com/RooCodeInc/Roo-Code/pull/6780))
* **模式名称验证**: 防止空模式名称导致 YAML 解析错误（感谢 kfxmvp！）([#5767](https://github.com/RooCodeInc/Roo-Code/pull/5767))
* **文本高亮对齐**: 修复了聊天输入区域高亮的错位问题（感谢 NaccOll！）([#6648](https://github.com/RooCodeInc/Roo-Code/pull/6648))
* **MCP 服务器设置**: 正确遵循"启用 MCP 服务器创建"设置（感谢 characharm！）([#6613](https://github.com/RooCodeInc/Roo-Code/pull/6613))
* **VB.NET 索引**: 现在使用回退分块在大型单体仓库中正确索引文件（感谢 JensvanZutphen！）([#6552](https://github.com/RooCodeInc/Roo-Code/pull/6552))
* **消息发送**: 恢复了单击保存按钮时的功能 ([#6487](https://github.com/RooCodeInc/Roo-Code/pull/6487))
* **搜索/替换容错**: 对包含额外 `>` 字符的 AI 生成差异更加宽容 ([#6537](https://github.com/RooCodeInc/Roo-Code/pull/6537))
* **Qdrant 删除**: 优雅处理删除错误以防止索引中断 ([#6296](https://github.com/RooCodeInc/Roo-Code/pull/6296))
* **LM Studio 上下文长度**: 模型现在正确显示其实际上下文长度而不是"1"（感谢 pwilkin, Angular-Angel！）([#6183](https://github.com/RooCodeInc/Roo-Code/pull/6183))
* **Claude 代码错误**: ENOENT 错误现在显示有用的安装指导（感谢 JamieJ1！）([#5867](https://github.com/RooCodeInc/Roo-Code/pull/5867))
* **Claude 代码错误处理**: 修复了使用 Claude Code 提供者时的"spawn claude ENOENT"错误，现在提供更好的错误处理和安装指导（感谢 JamieJ1！）([#6565](https://github.com/RooCodeInc/Roo-Code/pull/6565))
* **多文件编辑修复**: 修复了 Git diff 视图干扰文件操作的问题（感谢 hassoncs, szermatt！）([#6350](https://github.com/RooCodeInc/Roo-Code/pull/6350))
* **非 QWERTY 键盘支持**: 修复了 Dvorak、AZERTY 和其他布局的键盘快捷键（感谢 shlgug！）([#6162](https://github.com/RooCodeInc/Roo-Code/pull/6162))
* **模式导出/导入**: 修复了自定义模式导出以正确处理 slug 更改 ([#6186](https://github.com/RooCodeInc/Roo-Code/pull/6186))
* **隐藏目录支持**: [`list_files`](/advanced-usage/available-tools/list-files) 现在正确显示点目录的内容（感谢 MuriloFP, avtc, zhang157686！）([#5176](https://github.com/RooCodeInc/Roo-Code/pull/5176))
* **滚动条稳定性**: 修复了流式传输表格和代码块时的滚动条闪烁 ([#6266](https://github.com/RooCodeInc/Roo-Code/pull/6266))
* **设置链接修复**: 恢复了命令权限工具提示中工作的"查看设置"链接 ([#6253](https://github.com/RooCodeInc/Roo-Code/pull/6253))
* **@提及解析**: 修复了提及功能，使其在所有输入上下文中工作，包括后续问题 ([#6331](https://github.com/RooCodeInc/Roo-Code/pull/6331))
* **调试按钮移除**: 在生产构建中隐藏测试错误边界按钮（感谢 bangjohn！）([#6216](https://github.com/RooCodeInc/Roo-Code/pull/6216))
* **命令高亮修复**: 修复了斜杠命令高亮行为不一致的问题 ([#6325](https://github.com/RooCodeInc/Roo-Code/pull/6325))
* **文本换行**: 修复了权限 UI 中长命令模式的文本溢出 ([#6255](https://github.com/RooCodeInc/Roo-Code/pull/6255))

* **跨平台模式导出**：Windows 路径分隔符现在可以正确转换为 Unix 系统 ([#6308](https://github.com/RooCodeInc/Roo-Code/pull/6308))
* **差异视图显示**：修复了在禁用后台编辑时，差异视图在批准前不显示的问题 ([#6386](https://github.com/RooCodeInc/Roo-Code/pull/6386))
* **聊天输入保留**：修复了点击聊天按钮会清除已输入消息的问题（感谢 hassoncs！）([#6222](https://github.com/RooCodeInc/Roo-Code/pull/6222))
* **图像队列**：修复了图像队列功能无法正常工作的问题 ([#6414](https://github.com/RooCodeInc/Roo-Code/pull/6414))
* **Claude 代码输出 Token**：通过将默认最大输出 Token 从 8k 增加到 16k 来修复截断的响应（感谢 bpeterson1991！）([#6312](https://github.com/RooCodeInc/Roo-Code/pull/6312))
* **执行命令终止按钮**：修复了 execute_command 工具的终止按钮功能 ([#6457](https://github.com/RooCodeInc/Roo-Code/pull/6457))
* **Token 计数**：通过使用 VSCode LM API 从消息中提取文本来修复准确性问题（感谢 NaccOll！）([#6424](https://github.com/RooCodeInc/Roo-Code/pull/6424))
* **工具重复检测器**：修复了将"错误和重复限制"设置为 1 时会错误阻止第一次工具调用的 bug（感谢 NaccOll！）([#6836](https://github.com/RooCodeInc/Roo-Code/pull/6836))
* **`max_tokens` 计算**：修复了具有非常大上下文窗口的模型的错误，这些错误由于最大输出 Token 计算不正确而导致请求失败（感谢 markp018！）([#6808](https://github.com/RooCodeInc/Roo-Code/pull/6808))
* **AWS Bedrock 连接**：修复了使用 LiteLLM 时 AWS Bedrock 的连接问题 ([#6778](https://github.com/RooCodeInc/Roo-Code/pull/6778))
* **搜索工具可靠性**：修复了 search_files 工具在遇到权限被拒绝的文件时失败的问题 - 现在会继续工作并返回可访问文件的结果（感谢 R-omk！）([#6757](https://github.com/RooCodeInc/Roo-Code/pull/6757))
* **原生 Ollama API**：修复了 Ollama 模型以使用原生 API 而非 OpenAI 兼容层，以提高性能和可靠性 ([#7137](https://github.com/RooCodeInc/Roo-Code/pull/7137))
* **终端复用**：修复了终端复用逻辑以正确处理终端生命周期管理 ([#7157](https://github.com/RooCodeInc/Roo-Code/pull/7157))
* **LM Studio 模型**：通过实现不区分大小写的去重来修复重复模型条目，确保模型在提供程序配置中只出现一次（感谢 fbuechler！）([#7185](https://github.com/RooCodeInc/Roo-Code/pull/7185))
* **推理使用**：修复了 enableReasoningEffort 设置在确定推理使用时未被遵守的问题，避免了意外的推理费用（感谢 ikbencasdoei！）([#7049](https://github.com/RooCodeInc/Roo-Code/pull/7049))
* **欢迎界面**：修复了 Roo Code Cloud 提供程序的"开始使用"按钮无法工作的问题 ([#7239](https://github.com/RooCodeInc/Roo-Code/pull/7239))

### 提供程序更新

* **Requesty Provider**: 新增对自定义基础 URL 的支持，允许您连接到自托管或替代的 Requesty 端点 ([#7337](https://github.com/RooCodeInc/Roo-Code/pull/7337))
* **Chutes AI**: 新增 DeepSeek V3.1 模型支持，扩展了 Chutes AI 用户可用的模型选项 ([#7295](https://github.com/RooCodeInc/Roo-Code/pull/7295))
* **Featherless Provider**: 通过新的 Featherless AI 平台访问广泛的开源模型（感谢 DarinVerheijke!） ([#7235](https://github.com/RooCodeInc/Roo-Code/pull/7235))
* **Sonic 模型集成**: 通过 Roo Code Cloud provider 新增对 Sonic 隐形模型的支持 ([#7207](https://github.com/RooCodeInc/Roo-Code/pull/7207), [#7212](https://github.com/RooCodeInc/Roo-Code/pull/7212), [#7218](https://github.com/RooCodeInc/Roo-Code/pull/7218)):
  - 262,144-token 上下文窗口，用于处理大型文档和代码库
  - 免费 72 小时访问期用于评估
  - 思考 token 控制，用于管理推理预算
  - 最大输出 token 增加到 16,384，支持更长的响应
* **GPT-5 模型支持**: 新增对 OpenAI 最新 GPT-5 模型系列的支持 ([#6819](https://github.com/RooCodeInc/Roo-Code/pull/6819)):
  - `gpt-5-2025-08-07`: 完整的 GPT-5 模型，现在设置为 OpenAI Native provider 的默认模型
  - `gpt-5-mini-2025-08-07`: 更小、更快的变体，用于快速响应
  - `gpt-5-nano-2025-08-07`: 最紧凑的版本，适用于资源受限的场景
  - `gpt-5-chat-latest`: 针对对话式 AI 和非推理任务优化 ([#7058](https://github.com/RooCodeInc/Roo-Code/pull/7058))
* **GPT-5 详细度控制**: 新增控制模型输出详细程度的设置（低、中、高），允许您根据需要微调响应长度和详细程度 ([#6819](https://github.com/RooCodeInc/Roo-Code/pull/6819))
* **Fireworks AI 模型**: 新增 GLM-4.5 系列模型（355B 和 106B 参数，128K 上下文）和 OpenAI gpt-oss 模型（20b 用于边缘部署，120b 用于生产使用），扩展模型选择选项（感谢 alexfarlander!） ([#6784](https://github.com/RooCodeInc/Roo-Code/pull/6784))
* **Claude Opus 4.1 支持**: 在 Anthropic、Claude Code、Bedrock、Vertex AI 和 LiteLLM providers 中新增对新 Claude Opus 4.1 模型的支持，具有 8192 最大 token、推理预算支持和提示缓存 ([#6728](https://github.com/RooCodeInc/Roo-Code/pull/6728))
* **Z AI Provider**: Z AI（前身为 Zhipu AI）现已可用，提供 GLM-4.5 系列模型，为国际和中国大陆用户提供双区域支持（感谢 jues!） ([#6657](https://github.com/RooCodeInc/Roo-Code/pull/6657))
* **Fireworks AI Provider**: 新 provider，提供 Kimi 和 Qwen 等流行的开源模型的托管版本（感谢 ershang-fireworks!） ([#6652](https://github.com/RooCodeInc/Roo-Code/pull/6652))
* **Groq GPT-OSS 模型**: 新增 GPT-OSS-120b 和 GPT-OSS-20b 模型，具有 131K 上下文窗口，支持工具使用、浏览器搜索、代码执行和 JSON 对象模式 ([#6732](https://github.com/RooCodeInc/Roo-Code/pull/6732))
* **Cerebras GPT-OSS-120b**: 新增 OpenAI 的 GPT-OSS-120b 模型 - 免费使用，64K 上下文，约 2800 tokens/秒 ([#6734](https://github.com/RooCodeInc/Roo-Code/pull/6734))
* **Cerebras Provider**: 新增对 Cerebras 作为新 AI provider 的支持，提供 Qwen 3 Coder 模型，具有免费和付费层级选项，支持自动思考 token 过滤（感谢 kevint-cerebras!） ([#6392](https://github.com/RooCodeInc/Roo-Code/pull/6392), [#6562](https://github.com/RooCodeInc/Roo-Code/pull/6562))
* **LiteLLM 的提示缓存**: 通过 Claude 3.5 Sonnet 和兼容模型的缓存支持，降低 API 成本并提高响应时间（感谢 MuriloFP, steve-gore-snapdocs!） ([#6074](https://github.com/RooCodeInc/Roo-Code/pull/6074))
* **Chutes AI - GLM-4.5-Air 模型**: 在 Chutes AI provider 中新增对 GLM-4.5-Air 模型的支持，具有 151K token 上下文窗口，用于复杂推理任务和大型代码库分析 - 完全免费使用（感谢 matbgn!） ([#6377](https://github.com/RooCodeInc/Roo-Code/pull/6377))
* **Doubao Provider**: 新增对字节跳动 AI 模型 provider 的支持，包括完整的 API 处理集成（感谢 AntiMoron!） ([#6345](https://github.com/RooCodeInc/Roo-Code/pull/6345))
* **SambaNova Provider**: 集成 SambaNova 作为新的 LLM provider，提供高速推理和更广泛的模型选择（感谢 snova-jorgep!） ([#6188](https://github.com/RooCodeInc/Roo-Code/pull/6188))
* **Chutes AI**: 新增 zai-org/GLM-4.5-FP8 模型支持 ([#6441](https://github.com/RooCodeInc/Roo-Code/pull/6441))
* **OpenRouter**: 将 horizon-alpha 模型最大 token 设置为 32k ([#6470](https://github.com/RooCodeInc/Roo-Code/pull/6470))
* **通过 OpenRouter 的 Horizon Beta 隐形模型**: 优化对 OpenRouter 新隐形模型 Horizon Beta 的支持，32k 最大 token，响应时间更佳。感谢 OpenRouter 提供这个免费的、改进版的 Horizon Alpha! ([#6577](https://github.com/RooCodeInc/Roo-Code/pull/6577))
* **类型定义**: 更新 @roo-code/types 至 v1.41.0，支持最新类型兼容性 ([#6568](https://github.com/RooCodeInc/Roo-Code/pull/6568))
* **Databricks**: 新增对 /invocations 端点模式的支持（感谢 adambrand!） ([#6317](https://github.com/RooCodeInc/Roo-Code/pull/6317))
* **Codex Mini 模型支持**: 在 OpenAI Native provider 中新增对 `codex-mini-latest` 模型的支持（感谢 KJ7LNW!） ([#6931](https://github.com/RooCodeInc/Roo-Code/pull/6931))
* **IO Intelligence Provider**: 新增 IO Intelligence 作为新 provider，为用户提供广泛的 AI 模型访问 ([#6875](https://github.com/RooCodeInc/Roo-Code/pull/6875))
* **OpenAI**: 从可用选项中移除已弃用的 GPT-4.5 Preview 模型，因为它已从 OpenAI API 中移除（感谢 PeterDaveHello!） ([#6948](https://github.com/RooCodeInc/Roo-Code/pull/6948))
* **任务元数据**: 改进与 Roo Code Cloud 服务的兼容性 ([#7092](https://github.com/RooCodeInc/Roo-Code/pull/7092))
* **Sonic 模型支持**: 在 provider 系统中新增对 Sonic 模型的支持（感谢 mrubens!） ([#7246](https://github.com/RooCodeInc/Roo-Code/pull/7246))

### 其他改进

* **MDM 认证**：当组织的 MDM 策略要求认证时提供清晰反馈 ([#7291](https://github.com/RooCodeInc/Roo-Code/pull/7291))
* **安全更新**：更新 mermaid 依赖到 v11.10.0 ([#7231](https://github.com/RooCodeInc/Roo-Code/pull/7231)) 和 tmp 依赖到 v0.2.4 ([#6762](https://github.com/RooCodeInc/Roo-Code/pull/6762))
* **任务跟踪**：在 Roo 提供商请求头中传递任务 ID ([#7303](https://github.com/RooCodeInc/Roo-Code/pull/7303))
* **错误处理**：从 RooHandler 构造函数中移除了异常 ([#7302](https://github.com/RooCodeInc/Roo-Code/pull/7302))
* **云服务**：云服务的各种内部改进 ([#7299](https://github.com/RooCodeInc/Roo-Code/pull/7299), [#7258](https://github.com/RooCodeInc/Roo-Code/pull/7258))
* **构建优化**：将非英文包文件标记为 linguist-generated ([#7271](https://github.com/RooCodeInc/Roo-Code/pull/7271))
* **云集成**：回退到使用 @roo-code/cloud 的 npm 包版本以提高构建稳定性和维护性 ([#6795](https://github.com/RooCodeInc/Roo-Code/pull/6795))
* **斜杠命令插值**：跳过对不存在命令的插值 ([#6475](https://github.com/RooCodeInc/Roo-Code/pull/6475))
* **代码检查覆盖**：应用于 locale README 文件（感谢 liwilliam2021!）([#6477](https://github.com/RooCodeInc/Roo-Code/pull/6477))
* **云服务事件**：从回调迁移到基于事件的架构 ([#6519](https://github.com/RooCodeInc/Roo-Code/pull/6519))
* **网站更新**：第 1 阶段改进（感谢 thill2323!）([#6085](https://github.com/RooCodeInc/Roo-Code/pull/6085))
* **后台编辑（实验性）**：在 Roo 在后台编辑文件时不间断工作——不再因自动差异视图而失去焦点 ([#6214](https://github.com/RooCodeInc/Roo-Code/pull/6214))。文件在您继续编码时静默更改，诊断和错误检查仍然活跃。详情请参见 [后台编辑](/features/experimental/background-editing)。
* **安全更新**：更新 form-data 依赖以解决安全漏洞 ([#6332](https://github.com/RooCodeInc/Roo-Code/pull/6332))
* **贡献者更新**：刷新了所有本地化的贡献者致谢 ([#6302](https://github.com/RooCodeInc/Roo-Code/pull/6302))
* **发布工程**：将发布工程师角色转换为斜杠命令以简化发布 ([#6333](https://github.com/RooCodeInc/Roo-Code/pull/6333))
* **PR 审查者改进**：使 PR 审查者模式通用化以适用于任何 GitHub 仓库 ([#6357](https://github.com/RooCodeInc/Roo-Code/pull/6357), [#6328](https://github.com/RooCodeInc/Roo-Code/pull/6328), [#6324](https://github.com/RooCodeInc/Roo-Code/pull/6324))
* **组织 MCP 控制**：添加了在组织级别管理 MCP 服务器的支持，允许跨团队的集中配置 ([#6378](https://github.com/RooCodeInc/Roo-Code/pull/6378))
* **扩展标题更新**：从所有语言的扩展标题中移除了 "(prev Roo Cline)" ([#6426](https://github.com/RooCodeInc/Roo-Code/pull/6426))
* **翻译改进**：更新了自动翻译提示并添加了翻译检查操作 ([#6430](https://github.com/RooCodeInc/Roo-Code/pull/6430), [#6393](https://github.com/RooCodeInc/Roo-Code/pull/6393))
* **模式配置**：更新了 PR 审查者规则和模式配置 ([#6391](https://github.com/RooCodeInc/Roo-Code/pull/6391), [#6428](https://github.com/RooCodeInc/Roo-Code/pull/6428))
* **Navigator 全局错误**：通过更新 mammoth 和 bluebird 依赖解决了错误 ([#6363](https://github.com/RooCodeInc/Roo-Code/pull/6363))
* **夜间构建修复**：通过单独的更新日志解决了市场冻结问题 ([#6449](https://github.com/RooCodeInc/Roo-Code/pull/6449))
* **云提供商配置文件同步**：添加了从云端同步提供商配置文件的支持，启用跨设备和团队协作的自动同步 ([#6540](https://github.com/RooCodeInc/Roo-Code/pull/6540))

### 文档更新

* **ask_followup_question Tool**：简化了提示指导以实现更清晰的创作，使创建有效的后续问题更快 ([#7191](https://github.com/RooCodeInc/Roo-Code/pull/7191))