---
description: Roo Code 3.37 引入了自定义工具调用，扩展了提供商支持，并提升了工具调用可靠性。
keywords:
  - roo code 3.37
  - new features
  - bug fixes
image: /img/v3.37.0/v3.37.0.png
---

# Roo Code 3.37 版本说明 (2025-12-22)

Roo Code 3.37 引入了实验性自定义工具，增加了新的提供商功能，并提升了工具调用可靠性。

<img src="/img/v3.37.0/v3.37.0.png" alt="Roo Code v3.37.0 Release" width="600" />

## 新模型

## Z.ai GLM-4.7（思考模式）

GLM-4.7 现已通过 Roo Code 中的 Z.ai 提供商直接提供，也可通过 Roo Code Cloud 提供商（以及其他提供 Z.ai 的提供商路径）使用。这是一个强大的 Agent 工作流编码模型，与 GLM-4.6 相比，它在多语言编码、终端任务、工具使用和复杂推理方面都有所改进 ([#10282](https://github.com/RooCodeInc/Roo-Code/pull/10282))。

<img src="/img/v3.37/v3.37-2.png" alt="GLM-4.7 benchmark performance" width="600" />

## MiniMax M2.1 改进

MiniMax M2.1 现已通过 Roo Code 中的 MiniMax 提供商直接提供，也可通过 Roo Code Cloud 提供商（以及其他提供 MiniMax 的提供商路径）使用。它是 Agent 编码工作流的强大选择，具有更好的工具使用、指令遵循和长期规划能力，适用于多步骤任务，而且速度很快 ([#10284](https://github.com/RooCodeInc/Roo-Code/pull/10284))。

<img src="/img/v3.37/v3.37-1.png" alt="MiniMax M2.1 Benchmark Performance" width="600" />

## 实验性自定义工具

您现在可以定义和使用**自定义工具**，以便 Roo 可以像调用内置工具一样调用您的项目或团队特定的操作。这使得通过将工具模式与项目一起发布，而不是反复提示相同的步骤，更容易在团队中标准化工作流 ([#10083](https://github.com/RooCodeInc/Roo-Code/pull/10083))。

## Bug 修复

* 修复了在某些 OpenAI 兼容提供商中，当流式传输在工具调用边界结束时，Roo 可能会卡住的问题（感谢 torxeon！）（[#10280](https://github.com/RooCodeInc/Roo-Code/pull/10280)）
* 通过确保发出最终工具调用完成事件，修复了在某些 OpenAI 兼容提供商中，Roo 可能会在工具调用后卡住的问题（[#10293](https://github.com/RooCodeInc/Roo-Code/pull/10293)）
* 修复了在严格模式模式下，当可选参数被视为必需参数时，MCP 工具可能会中断的问题（[#10220](https://github.com/RooCodeInc/Roo-Code/pull/10220)）
* 修复了由于可选数组参数的模式规范化无效，内置 `read_file` 工具在某些模型上可能会失败的问题（[#10276](https://github.com/RooCodeInc/Roo-Code/pull/10276)）
* 修复了 `search_replace` / `search_and_replace` 可能会在 CRLF 文件上错过匹配项的问题，提高了跨平台搜索和替换的可靠性（[#10288](https://github.com/RooCodeInc/Roo-Code/pull/10288)）
* 修复了 Requesty 的**刷新模型**可能使模型列表过时的问题，因为它没有在刷新流程中包含凭据（感谢 requesty-JohnCosta27！）（[#10273](https://github.com/RooCodeInc/Roo-Code/pull/10273)）
* 修复了如果提供商返回格式错误的模型条目，Chutes 模型加载可能会失败的问题（[#10279](https://github.com/RooCodeInc/Roo-Code/pull/10279)）
* 修复了 `reasoning_details` 在流式传输期间可能会被错误地合并/排序的问题，提高了依赖严格推理序列化的提供商的可靠性（[#10285](https://github.com/RooCodeInc/Roo-Code/pull/10285)）
* 修复了如果在压缩后，压缩摘要缺少必需的推理字段，DeepSeek-reasoner 可能会出错的问题（[#10292](https://github.com/RooCodeInc/Roo-Code/pull/10292)）
* 修复了当提供商返回空助手消息时，Roo 可能会显示错误的问题，通过重试一次，并且仅在问题重复出现时才显示错误（[#10297](https://github.com/RooCodeInc/Roo-Code/pull/10297)）
* 修复了当自定义模型信息没有明确设置工具支持时，OpenAI/OpenAI 兼容聊天可能无法使用原生工具的问题，通过默认发送原生工具定义（[#10314](https://github.com/RooCodeInc/Roo-Code/pull/10314)）
* 修复了 Roo 在转换对话历史记录后可能会发送格式错误的 `reasoning_details` 数据的问题，防止提供商端错误，并提高与 OpenAI Responses 风格推理块的兼容性（[#10313](https://github.com/RooCodeInc/Roo-Code/pull/10313)）
* 修复了“询问”流程可能会挂起的问题，如果您的回复被排队而不是作为询问响应传递，对话将继续可靠地进行（[#10315](https://github.com/RooCodeInc/Roo-Code/pull/10315)）

## 其他改进

* **更清晰的评估日志**：去重重复的消息日志条目，使评估跟踪更易于阅读（[#10286](https://github.com/RooCodeInc/Roo-Code/pull/10286)）
* **以提供商为中心的注册**：通过将欢迎/注册流程默认为 Roo 提供商（同时保持其他提供商可用），使 Roo 更容易上手，因此您可以更快地实现工作设置，而无需在前面做出太多选择（[#10306](https://github.com/RooCodeInc/Roo-Code/pull/10306)）

## 生活质量改进

* 新任务现在在支持原生工具调用的模型上默认为原生工具调用，减少了手动选择工具协议的需要（[#10281](https://github.com/RooCodeInc/Roo-Code/pull/10281)）
* 通过防止工具结果元数据（如 `environment_details`）中断工具调用序列，提高了 Roo Code Cloud 的工具调用可靠性（[#10301](https://github.com/RooCodeInc/Roo-Code/pull/10301)）
* 通过将尾随工具结果文本合并到最后一个工具消息中，提高了 OpenAI 兼容提供商的工具调用可靠性，减少了工具调用序列被中断的情况（[#10299](https://github.com/RooCodeInc/Roo-Code/pull/10299)）

## 提供商更新

* 通过将 `environment_details` 附加到工具结果而不是发出单独的系统消息，改进了 Z.ai 思考模型的消息格式化（[#10289](https://github.com/RooCodeInc/Roo-Code/pull/10289)）
* LiteLLM 不再发送 `parallel_tool_calls`，提高了工具调用兼容性（感谢 farazoman！）（[#10274](https://github.com/RooCodeInc/Roo-Code/pull/10274)）