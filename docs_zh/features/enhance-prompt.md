---
description: 使用 Roo Code 的增强提示功能，通过一键自动优化提示词的清晰度、上下文和效果，提升您的 AI 交互体验。
keywords:
  - enhance prompt
  - prompt optimization
  - AI prompts
  - prompt engineering
  - chat enhancement
  - prompt refinement
  - wand icon
image: /img/social-share.jpg
---

# 增强提示

Roo Code 中的“增强提示”功能可帮助您在将提示发送给 AI 模型之前，提升其质量和效果。点击聊天输入框中的魔杖图标，即可自动优化您的初始请求，使其更清晰、更具体，从而获得更理想的结果。

---

## 为什么使用增强提示？

*   **提升清晰度：** Roo Code 可以重新表述您的提示，使其对 AI 模型更易理解。
*   **添加上下文：** 增强过程可以为您的提示添加相关上下文，例如当前文件路径或选中的代码。
*   **更明确的指令：** Roo Code 可以添加指令，引导 AI 生成更有用的回复（例如，请求特定格式或特定详细程度）。
*   **减少歧义：** 增强提示有助于消除歧义，确保 Roo Code 理解您的意图。
*   **一致性：** Roo 会以一致的方式向 AI 格式化提示。
*   **上下文感知建议：** 启用后，会利用您最近的对话历史生成更相关、更准确的增强内容。

---

## 如何使用增强提示

1.  **输入初始提示：** 像平常一样在 Roo Code 聊天输入框中输入您的请求。这可以是一个简单的问题、复杂的任务描述，或任何介于两者之间的内容。
2.  **点击魔杖图标：** 不要按 Enter 键，而是点击聊天输入框右上角的魔杖图标。Roo 处理您的增强请求时，魔杖图标会旋转，表示正在工作。
3.  **查看增强后的提示：** Roo Code 会将您的原始提示替换为增强版本。请查看增强后的提示，确保其准确反映您的意图。您可以在发送前进一步调整增强后的提示。如果改变主意，可以使用 Ctrl+Z（Mac 上为 Cmd+Z）撤销增强，恢复原始提示。
4.  **发送增强提示：** 按 Enter 键或点击发送图标（<Codicon name="send" />）将增强后的提示发送给 Roo Code。

---

## 特殊行为

### 空提示增强

如果您在提示为空时点击增强按钮，Roo 会显示一条有用的消息，解释该功能的工作原理。对于新用户来说，这是了解增强功能的好方法。

### 消息排队支持

即使消息发送被禁用，增强按钮仍保持启用状态。这允许您增强将排队稍后发送的提示。

---

## 自定义增强过程

“增强提示”功能使用可自定义的提示模板。您可以修改此模板，以根据您的特定需求定制增强过程。

### 访问提示设置

1.  **打开设置：** 点击 Roo Code 面板中的齿轮图标（<Codicon name="gear" />）或使用设置命令。
2.  **导航到提示：** 转到设置中的“提示”选项卡。
3.  **选择“ENHANCE”：** 从下拉菜单中选择“ENHANCE”以查看和编辑增强提示。

### 编辑增强提示

默认的增强提示模板为：

```
生成此提示的增强版本（仅回复增强后的提示 - 不要对话、解释、引导、要点、占位符或引号）：

${userInput}
```

`${userInput}` 占位符将被您的原始提示替换。您可以根据需要和模型的提示格式修改此模板。

### 测试您的自定义提示

提示设置包含一个测试区域，您可以在其中预览自定义增强提示的工作效果：

1. 编辑增强提示后，查找“测试增强”部分
2. 输入示例提示进行测试
3. 点击“测试”查看您的自定义提示将如何增强它
4. 根据结果调整您的增强提示

---

## API 配置

增强提示使用的 API 配置默认与 Roo Code 任务选择的配置相同，但可以更改：

1.  **打开设置：** 导航到 Roo Code 设置
2.  **转到提示选项卡：** 选择“提示”选项卡
3.  **选择“ENHANCE”：** 从下拉菜单中选择“ENHANCE”
4.  **配置 API：** 您会看到一个“API 配置”下拉菜单，可以选择现有配置。未来的增强提示请求将发送到配置的提供者/模型。

---

## 上下文感知增强

增强提示功能现在可以利用您的对话历史生成更相关的建议。这有助于减少幻觉，并基于您正在处理的内容提供更准确的增强。

### 工作原理

启用后，增强过程会将您当前对话的最后 10 条消息作为上下文包含在内。这允许 AI：
- 了解您正在处理的内容
- 与之前的讨论保持一致
- 避免建议无关或不正确的增强
- 提供更有针对性和有用的提示改进

### 启用任务历史上下文

要启用或禁用对话历史在提示增强中的使用：

1. **打开设置：** 导航到 Roo Code 设置
2. **转到提示选项卡：** 选择“提示”选项卡
3. **选择“ENHANCE”：** 从下拉菜单中选择“ENHANCE”
4. **切换历史选项：** 勾选或取消勾选“在增强中包含任务历史”以获得更好的上下文

禁用时，增强将仅考虑您当前的提示，不包含任何对话上下文。

---

## 视觉反馈和 UI 元素

### 按钮外观
- 魔杖图标默认为半透明（60% 透明度）
- 悬停时变为完全不透明（100%）
- 位于聊天输入框的右上角
- 具有键盘可访问性的焦点环

### 加载状态
- 处理增强请求时，魔杖图标会旋转
- 这提供了清晰的视觉反馈，表明 Roo 正在处理您的提示

### 工具提示
- 悬停在按钮上会显示：“使用附加上下文增强提示”
- 帮助新用户理解按钮的用途

---

## 限制和最佳实践

*   **实验性功能：** 提示增强是一个实验性功能。增强提示的质量可能因您请求的复杂性和底层模型的能力而异。
*   **仔细查看：** 发送前请始终查看增强后的提示。Roo Code 可能会做出与您意图不符的更改。
*   **迭代过程：** 您可以多次使用“增强提示”功能来迭代优化您的提示。
*   **不能替代清晰的指令：** 虽然“增强提示”有帮助，但仍然重要的是从一开始就编写清晰具体的提示。

通过使用“增强提示”功能，您可以改善与 Roo Code 的交互质量，获得更准确、更有用的回复。