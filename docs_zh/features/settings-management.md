---
sidebar_label: 导入/导出/重置设置
description: 通过导出、导入或重置为默认设置来管理您的 Roo Code 设置。
keywords:
  - settings management
  - import settings
  - export settings
  - reset settings
  - configuration backup
  - auto import
---

# 导入、导出和重置设置

Roo Code 允许您通过导出、导入和重置选项有效地管理配置设置。这些功能对于备份您的设置、与他人共享配置或在需要时恢复默认设置非常有用。

您可以在 Roo Code 设置页面的底部找到这些选项，可通过 Roo Code 聊天视图中的齿轮图标 (<i class="codicon codicon-gear"></i>) 访问。

<img src="/img/settings-management/settings-management.png" alt="Roo Code 设置中的导出、导入和重置按钮" width="400" />
*图片：导出、导入和重置按钮。*

---

## 导出设置

点击 **导出** 按钮可将当前 Roo Code 设置保存为 JSON 文件。

*   **导出内容：** 该文件包含您配置的 API 提供商配置文件和全局设置（UI 首选项、模式配置、上下文设置等）。
*   **安全警告：** 导出的 JSON 文件包含您配置的**所有** API 提供商配置文件和全局设置。**关键的是，这包括以明文形式存储的 API 密钥**。请将该文件视为高度敏感文件。请勿公开分享或与不可信的人员共享，因为它会授予对您 API 账户的访问权限。
*   **操作流程：**
    1.  点击 **导出**。
    2.  将出现一个文件保存对话框，建议将文件名设为 `roo-code-settings.json`（通常位于 `~/Documents` 文件夹中）。
    3.  选择位置并保存文件。

这将创建您配置的备份或一个可以共享的文件。

---

## 导入设置

点击 **导入** 按钮允许您从之前导出的 JSON 文件加载设置。

*   **操作流程：**
    1.  点击 **导入**。
    2.  将出现一个文件打开对话框。选择您要导入的 `roo-code-settings.json` 文件（或类似名称的文件）。
    3.  Roo Code 将读取文件，根据预期模式验证其内容，并应用设置。
*   **合并：** 导入设置会**合并**配置。它会根据文件内容添加新的 API 配置文件并更新现有的配置文件和全局设置。它**不会**删除您当前设置中存在但导入文件中缺失的配置。
*   **验证：** 导入会验证文件，但仍可能成功并带有警告。

    - 如果**某些** API 配置文件引用了不再存在的提供商（或以其他方式无效），Roo Code 会导入其余部分并报告警告。
    - 仅当**所有**配置文件都无效时，导入才会失败。

---

## 自动配置导入

每次启动 VS Code 时，自动从文件导入您的 Roo Code 设置。这是在多个设备间同步配置或为整个团队标准化设置的强大方式。

### 主要功能
- **轻松同步**：在不同的工作区和设备间保持设置一致。
- **团队标准化**：共享单个配置文件，确保整个团队使用相同的设置。
- **灵活路径**：支持绝对路径，或相对于主目录的路径（例如 `~/Documents/roo-settings.json`）。
- **静默且安全**：如果找不到文件或包含错误，Roo Code 将正常启动，不会阻止您的工作流程。

### 使用场景

**之前**：每次换到新机器或想要共享设置时，都需要手动导出和导入设置。
- 手动打开设置面板。
- 将当前设置导出到文件。
- 将文件发送给队友或新机器。
- 手动导入文件。

**使用此功能后**：配置一次路径，Roo Code 会在每次启动时处理其余操作。

### 工作原理

当 VS Code 启动时，Roo Code 会检查特定设置：`roo-cline.autoImportSettingsPath`。如果此设置包含指向有效 Roo Code 配置文件（`.json`）的路径，Roo Code 将自动加载它。

- 导入成功后，您将看到通知：`Successfully imported settings from [your-file-name.json]`。
- 如果文件无效或找不到，您将收到一个非侵入性警告，扩展将使用您上次已知的设置启动。`autoImportSettings` 函数旨在永不阻止扩展激活。

### 配置

要使用此功能，请将以下内容添加到 VS Code 的 `settings.json` 文件中：

1.  **打开您的 `settings.json` 文件**：
    *   使用命令面板 (`Ctrl/Cmd + Shift + P`) 并搜索“首选项：打开用户设置 (JSON)”。

2.  **添加设置**：
    *   添加 `roo-cline.autoImportSettingsPath` 键，并指定配置文件路径。

**示例**：

*   **绝对路径（推荐）**
    ```json
    {
      "roo-cline.autoImportSettingsPath": "/Users/your-username/Documents/dev-configs/roo-code.json"
    }
    ```

*   **主目录路径**（使用 `~`）
    ```json
    {
      "roo-cline.autoImportSettingsPath": "~/roo-code-settings.json"
    }
    ```

*   **要禁用**，只需将路径留空或完全删除该行：
    ```json
    {
      "roo-cline.autoImportSettingsPath": ""
    }
    ```

### 常见问题

**“如果我的文件有错误会怎样？”**
- Roo Code 将显示带有错误详情的警告通知。扩展将继续使用您之前保存的设置正常加载。

**“Roo Code 在哪里查找相对路径？”**
- 为了安全和一致性，非绝对或基于主目录的路径将相对于您的主目录解析。

**“我可以用它来管理团队的设置吗？”**
- 是的。将配置文件放在共享位置（如同步的云文件夹或共享网络驱动器），并让每个团队成员指向该文件。
---

## 重置设置

点击 **重置** 按钮将完全清除所有 Roo Code 配置数据，并将扩展恢复到默认状态。这是一个用于故障排除或重新开始的有破坏性的操作。

*   **警告：** 此操作**不可逆**。它将永久删除所有 API 配置（包括存储在密钥存储中的密钥）、自定义模式、全局设置和任务历史记录。

*   **操作流程：**
    1.  点击红色的 **重置** 按钮。
    2.  将出现一个确认对话框，警告该操作无法撤消。
    3.  点击“是”以确认。

*   **重置内容：**
    *   **API 提供商配置文件：** 所有配置将从设置和密钥存储中删除。
    *   **全局设置：** 所有首选项（UI、模式、批准、浏览器等）将重置为默认值。
    *   **自定义模式：** 所有用户定义的模式将被删除。
    *   **密钥存储：** 所有由 Roo Code 管理的 API 密钥和其他密钥将被清除。
    *   **任务历史记录：** 当前任务堆栈将被清除。

*   **结果：** Roo Code 将返回到其初始状态，如同刚安装一样，具有默认设置且没有用户配置。

仅当您确定要删除所有 Roo Code 数据或在故障排除过程中被指示时才使用此选项。如果您以后可能想要恢复设置，请考虑先导出您的设置。

---

## UI 设置

#### 系统提示上下文切换

控制系统提示中显示哪些上下文信息：

- **包含当前时间** (设置 → 常规)
  - 启用时，将当前时间戳添加到系统提示中
  - 禁用时，从提示中省略时间信息
  - 默认：启用

- **包含当前成本** (设置 → 常规)
  - 启用时，将当前任务成本添加到系统提示中
  - 禁用时，从提示中省略成本信息
  - 默认：启用

**示例影响：**

两者都启用时，系统提示包括：
```
# Current Time
Current time in ISO 8601 UTC format: 2025-10-28T23:06:08.458Z
User time zone: America/Edmonton, UTC-6:00

# Current Cost
$0.14
```

两者都禁用时，这些部分将被省略，在您不需要此上下文时减少 token 使用量。

#### 默认折叠思考消息

- 位置：设置 → 用户界面
- 默认值：已启用（思考消息默认折叠）
- 行为：
  - 已启用（默认）：思考块保持折叠状态，直到您展开它们。
  - 已禁用：思考块默认展开。
- 备注：
  - 全局适用于所有对话。
  - 文本已本地化；标签可能因语言而异。