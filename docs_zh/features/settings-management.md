---
sidebar_label: 导入/导出/重置设置
description: 通过导出、导入或重置为默认值来管理您的 Roo Code 设置。
keywords:
  - 设置管理
  - 导入设置
  - 导出设置
  - 重置设置
  - 配置备份
  - 自动导入
image: /img/social-share.jpg
---

# 导入、导出和重置设置

Roo Code 提供了导出、导入和重置选项，帮助您高效管理配置设置。这些功能可用于备份您的配置、与他人共享配置，或在需要时恢复默认设置。

您可以在 Roo Code 设置页面底部找到这些选项，通过 Roo Code 聊天视图中的齿轮图标（<i class="codicon codicon-gear"></i>）访问。

<img src="/img/settings-management/settings-management.png" alt="Roo Code 设置中的导出、导入和重置按钮" width="400" />
*图片：导出、导入和重置按钮。*

---

## 导出设置

点击 **导出** 按钮会将您当前的 Roo Code 设置保存为 JSON 文件。

*   **导出内容**：文件包含您配置的 API 提供商配置文件和全局设置（UI 偏好、模式配置、上下文设置等）。
*   **安全警告**：导出的 JSON 文件包含 **所有** 您配置的 API 提供商配置文件和全局设置。重要的是，这包括 **明文的 API 密钥**。请将此文件视为高度敏感信息。切勿公开分享或与不可信的人员共享，因为它会授予对您 API 账户的访问权限。
*   **操作流程**：
    1.  点击 **导出**。
    2.  文件保存对话框出现，建议文件名为 `roo-code-settings.json`（通常位于您的 `~/Documents` 文件夹中）。
    3.  选择位置并保存文件。

这将创建您的配置备份或可用于共享的文件。

---

## 导入设置

点击 **导入** 按钮允许您从之前导出的 JSON 文件加载设置。

*   **操作流程**：
    1.  点击 **导入**。
    2.  文件打开对话框出现。选择您要导入的 `roo-code-settings.json` 文件（或类似命名的文件）。
    3.  Roo Code 读取文件，根据预期的架构验证其内容，并应用设置。
*   **合并**：导入设置会 **合并** 配置。它会根据文件内容添加新的 API 配置文件，更新现有配置文件和全局设置。它 **不会** 删除您当前设置中存在但导入文件中缺失的配置。
*   **验证**：只有符合内部架构的有效设置才能导入，防止配置错误。完成后会显示成功通知。

---

## 自动配置导入

每次启动 VS Code 时，自动从文件导入您的 Roo Code 设置。这是跨多台机器同步配置或为整个团队标准化设置的强大方式。

### 主要功能
- **轻松同步**：在不同工作区和设备间保持设置一致。
- **团队标准化**：共享单个配置文件，确保整个团队使用相同设置。
- **灵活路径**：支持绝对路径或相对于主目录的路径（例如 `~/Documents/roo-settings.json`）。
- **静默且安全**：如果找不到文件或文件包含错误，Roo Code 会正常启动，不会阻塞您的工作流程。

### 使用场景

**之前**：每次移动到新机器或想要共享设置时，手动导出和导入设置。
- 手动打开设置面板。
- 将当前设置导出到文件。
- 将文件发送给队友或新机器。
- 手动导入文件。

**使用此功能后**：配置一次路径，Roo Code 会在每次启动时自动处理其余操作。

### 工作原理

当 VS Code 启动时，Roo Code 会检查特定设置：`roo-cline.autoImportSettingsPath`。如果此设置包含有效 Roo Code 配置文件（`.json`）的路径，Roo Code 将自动加载它。

- 成功导入后，您会看到通知：`Successfully imported settings from [your-file-name.json]`。
- 如果文件无效或找不到，您会收到非侵入性警告，扩展将使用您最后已知的设置启动。`autoImportSettings` 函数设计为永远不会阻止扩展激活。

### 配置

要使用此功能，请在您的 VS Code `settings.json` 文件中添加以下内容：

1.  **打开您的 `settings.json` 文件**：
    *   使用命令面板（`Ctrl/Cmd + Shift + P`）并搜索 "Preferences: Open User Settings (JSON)"。

2.  **添加设置**：
    *   添加 `roo-cline.autoImportSettingsPath` 键，值为您的配置文件路径。

**示例**：

*   **绝对路径（推荐）**
    ```json
    {
      "roo-cline.autoImportSettingsPath": "/Users/your-username/Documents/dev-configs/roo-code.json"
    }
    ```

*   **主目录路径**（使用 `~`）
    ```json
    {
      "roo-cline.autoImportSettingsPath": "~/roo-code-settings.json"
    }
    ```

*   **禁用**，只需将路径留空或完全删除该行：
    ```json
    {
      "roo-cline.autoImportSettingsPath": ""
    }
    ```

### 常见问题

**"如果我的文件有错误会怎样？"**
- Roo Code 会显示带有错误详情的警告通知。扩展将继续正常加载，使用您之前保存的设置。

**"Roo Code 在哪里查找相对路径？"**
- 为了安全和一致性，非绝对路径或非主目录路径将相对于您的主目录解析。

**"我可以使用此功能管理团队设置吗？"**
- 可以。将配置文件放在共享位置（如同步的云文件夹或共享网络驱动器），让每个团队成员指向该文件。
---

## 重置设置

点击 **重置** 按钮会完全清除所有 Roo Code 配置数据，并将扩展恢复到默认状态。这是一个破坏性操作，用于故障排除或重新开始。

*   **警告**：此操作 **不可逆**。它会永久删除所有 API 配置（包括存储在密钥存储中的密钥）、自定义模式、全局设置和任务历史记录。

*   **操作流程**：
    1.  点击红色的 **重置** 按钮。
    2.  确认对话框出现，警告此操作无法撤销。
    3.  点击 "是" 确认。

*   **重置内容**：
    *   **API 提供商配置文件**：所有配置都从设置和密钥存储中删除。
    *   **全局设置**：所有偏好（UI、模式、批准、浏览器等）重置为默认值。
    *   **自定义模式**：删除所有用户定义的模式。
    *   **密钥存储**：清除 Roo Code 管理的所有 API 密钥和其他密钥。
    *   **任务历史**：清除当前任务栈。

*   **结果**：Roo Code 返回到初始状态，就像刚安装一样，默认设置且无用户配置。

仅在确定要删除所有 Roo Code 数据或在故障排除期间被指示时使用此选项。如果您可能稍后需要恢复设置，请考虑先导出您的设置。

---

## UI 设置

#### 系统提示上下文切换

控制哪些上下文信息出现在系统提示中：

- **包含当前时间**（设置 → 通用）
  - 启用时，将当前时间戳添加到系统提示
  - 禁用时，从提示中省略时间信息
  - 默认：启用

- **包含当前成本**（设置 → 通用）
  - 启用时，将当前任务成本添加到系统提示
  - 禁用时，从提示中省略成本信息
  - 默认：启用

**示例影响**：

启用两者时，系统提示包含：
```
# Current Time
Current time in ISO 8601 UTC format: 2025-10-28T23:06:08.458Z
User time zone: America/Edmonton, UTC-6:00

# Current Cost
$0.14
```

禁用两者时，这些部分被省略，当您不需要此上下文时减少令牌使用。

#### 默认折叠思考消息

- 位置：设置 → UI
- 默认：启用（思考块默认折叠）
- 行为：
  - 启用（默认）：思考块保持折叠，直到您展开它们。
  - 禁用：思考块默认展开。
- 说明：
  - 在对话中全局应用。
  - 文本已本地化；标签可能因语言而异。