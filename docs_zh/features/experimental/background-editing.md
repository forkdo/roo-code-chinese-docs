---
description: 了解实验性的后台编辑设置，它允许 Roo Code 在后台编辑文件时保持编码不被打断。
keywords:
  - 实验性功能
  - 编辑器焦点
  - diff 视图
  - 后台编辑
  - 工作流优化
  - 无中断编码
image: /img/social-share.jpg
---
# 后台编辑

在 Roo Code 后台编辑文件时保持不间断工作——不再因自动显示 diff 视图而被打断。

:::warning 实验性功能
这是一个实验性功能，会改变文件编辑的显示方式。虽然它可以显著改善工作流，但你需要通过源代码控制或文件历史手动检查变更。
:::

---

## 概述

“后台编辑”设置是一个实验性功能，它会禁用 Roo Code 编辑文件时自动显示 diff 视图的行为。与切换编辑器焦点显示 diff 不同，Roo 会在后台静默工作，让你能够继续编码而不被打断。此功能会影响所有文件编辑操作，包括写入、应用 diff、搜索/替换、插入内容和多文件应用 diff 工具。

### 主要优势

- **无中断焦点**：在 Roo 进行文件修改时保持当前文件
- **更流畅的工作流**：无需在文件间切换上下文
- **后台处理**：文件编辑在后台静默进行
- **减少干扰**：保持编码流程
- **性能提升**：文件操作更快，无需 UI 更新
- **批量操作**：适合大型重构或多文件更新

### 权衡

- **无视觉确认**：文件修改时不会看到 diff
- **需手动检查**：需通过 Git 或文件历史检查变更
- **即时反馈减少**：变更不会立即可见
- **静默变更**：文件在无视觉提示的情况下更改——定期检查 Git 状态
- **有限的环境上下文**：Roo 不会将最近编辑的文件视为打开的标签页，因为它们在编辑器中不可见

---

## 启用功能

启用后台编辑：

1. 打开 Roo Code 设置（右上角齿轮图标）
2. 导航到“实验性”选项卡
3. 在列表中找到“后台编辑”
4. 切换开关启用该功能

<img src="/img/background-editing/background-editing.png" alt="Roo Code 实验性功能中的后台编辑设置" width="400" />

---

## 工作原理

### 默认行为（功能关闭）

未启用此功能时，当 Roo 编辑文件：
1. 文件在编辑器中打开
2. 显示 diff 视图展示变更
3. 你的焦点切换到修改后的文件
4. 你检查并可能调整变更

### 启用后的行为

启用后，Roo 的文件编辑：
1. 在后台静默进行
2. 不会打开新的编辑器标签页
3. 不显示 diff 视图
4. 不打断你当前的工作
5. 仍会在内存中打开文件用于诊断检测（不可见）

### 仍会发生的情况

即使启用了此功能：
- 文件仍会被修改
- 变更会出现在源代码控制中
- 文件监视器和构建工具会检测到变更
- Roo 聊天会显示修改的文件
- 错误检测和诊断继续正常工作
- 文件在内存中打开用于诊断（编辑器中不可见）
- 诊断检测的写入延迟仍会被遵守

---

## 最佳使用场景

此功能特别适合：

- **大型重构操作**：Roo 需要更新多个文件时
- **批量文件更新**：在多个文件中进行类似修改
- **性能敏感任务**：UI 更新会拖慢操作时
- **专注编码会话**：希望避免上下文切换时
- **自动化工作流**：按顺序运行多个文件操作

---

## 最佳实践

使用此功能时：

1. **使用版本控制**：定期检查 Git 状态跟踪变更
2. **定期检查**：不要让太多变更累积而不检查
3. **选择性启用**：考虑为特定任务类型启用
4. **关注聊天**：注意 Roo 关于文件修改的消息
5. **检查诊断**：确保编辑器的问题面板保持可见

---

## 常见问题

**Q: 我还能看到 Roo 编辑的文件吗？**
A: 可以，Roo 的聊天消息会列出所有修改的文件，变更也会出现在源代码控制中。

**Q: 如果我需要立即看到特定变更怎么办？**
A: 你可以手动打开文件并使用源代码控制查看 diff。

**Q: 这会影响 Roo 编辑文件的能力吗？**
A: 不会，Roo 仍能进行所有相同的编辑；只有显示行为改变。所有文件编辑工具（写入、应用 diff、搜索/替换、插入内容和多文件应用 diff）都遵循此设置。

**Q: 可以仅对特定项目启用吗？**
A: 目前这是一个全局设置，影响所有项目。

**Q: 审批对话框会怎样？**
A: 如果你未自动批准，文件编辑审批仍会出现；只有 diff 显示被抑制。

**Q: 诊断和错误检测还能工作吗？**
A: 可以，文件在内存中打开用于诊断检测，因此即使文件不可见，错误检查仍继续正常工作。

**Q: 此功能在设置中如何显示？**
A: 在实验性选项卡中，它被标记为“后台编辑”，并附有描述，说明它能防止编辑器焦点被打断。