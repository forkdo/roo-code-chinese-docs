---
description: 了解如何使用 Roo Code 的任务待办列表功能来跟踪复杂任务的进度、管理工作子任务并保持条理清晰。
keywords:
  - 待办列表
  - 任务管理
  - 进度跟踪
  - 子任务
  - 项目组织
image: /img/social-share.jpg
---

# 任务待办列表

通过集成的待办管理功能，让您的任务保持在正轨上，帮助您保持条理清晰，专注于开发目标。任务待办列表提供交互式、持久的清单，直接在聊天界面中跟踪您在复杂、多步骤工作流中的进度。

<img src="/img/task-todo-list/task-todo-list-3.png" alt="任务待办列表概览，展示 Roo Code 中的交互式清单" width="600" />

:::tip 待办列表触发条件
待办列表会自动为复杂任务、多步骤工作流或使用 Architect 模式时创建。您也可以通过要求 Roo “使用 update_todo_list 工具”或“创建待办列表”来手动触发。

详细信息请参阅 [Roo 创建待办列表的时机](#when-roo-creates-todo-lists)。
:::

<div style={{ position: 'relative', paddingBottom: '56.25%', height: 0, overflow: 'hidden' }}>
  <iframe
    src="https://www.youtube.com/embed/6h5vB9PpoPk"
    style={{
      position: 'absolute',
      top: 0,
      left: 0,
      width: '100%',
      height: '100%',
    }}
    frameBorder="0"
    allow="autoplay; encrypted-media"
    allowFullScreen
  ></iframe>
</div>

<br />

---

## 使用场景

**之前**：在脑海中或单独的笔记文件中手动跟踪复杂任务的步骤，容易丢失进度和下一步骤的跟踪。

**使用任务待办列表后**：Roo Code 自动创建和管理嵌入在对话界面中的结构化清单。您可以查看每个项目的当前状态，观察 AI 标记完成项，以及在 Roo 提交更新以供审批时提供反馈。

---

## 工作原理

任务待办列表功能由 [`update_todo_list`](/advanced-usage/available-tools/update-todo-list) 工具驱动，该工具支持在聊天界面内进行动态任务管理。

### Roo 创建待办列表的时机

Roo 通过自动检测和手动请求两种方式创建待办列表：

- **检测到任务复杂性** - 在您的请求中识别出多个步骤、阶段或依赖关系
- **在 Architect 模式下工作** - 始终创建待办列表作为结构化工作的主要规划工具
- **直接工具请求** - 说“使用 update_todo_list 工具”或“请使用 update_todo_list”

记住：即使手动触发，Roo 也保持对待办列表内容和工作流的控制。您在 Roo 提交审批对话时提供反馈，但 Roo 根据任务需求管理工作流。

### 显示和交互

待办列表在多个位置显示：

1. **任务标题摘要**：通过 `TodoListDisplay` 组件显示进度和下一个重要项目的紧凑、只读摘要

   <img src="/img/task-todo-list/task-todo-list-1.png" alt="任务标题摘要显示待办列表进度" width="600" />

2. **交互式工具块**：聊天界面内的一个接口，通过 `UpdateTodoListToolBlock` 组件允许您：
   - 查看所有待办项及其当前状态
   - 点击“编辑”按钮进入编辑模式，您可以：
     - 直接修改任务描述
     - 使用下拉选择器更改任务状态
     - 使用 × 按钮删除任务
     - 使用“+ 添加待办”按钮添加新任务
   - 暂存更改，当 Roo 下次更新列表时应用
   - 查看 Roo 管理待办工作流时的进度

   <img src="/img/task-todo-list/task-todo-list-2.png" alt="聊天中的交互式待办列表工具块" width="600" />

3. **环境详情**：待办列表作为“REMINDERS”表出现在 environment_details 部分，为 AI 提供对当前待办状态的持久访问。注意：如果 `todoListEnabled` 设置被禁用，环境详情中将不会出现提醒部分。

### 展开的待办视图

当您点击任务标题中的折叠待办摘要时，会弹出一个浮动面板，提供增强的功能：
- **背景叠加层**：点击面板外部可关闭它
- **完整待办列表显示**：显示所有待办项及其当前状态指示器
- **自动滚动**：自动滚动到当前进行中的任务
- **平滑动画**：展开和折叠过渡，提供更好的用户体验
- **持久状态**：重新打开时保持您的滚动位置

### 理解任务状态

Roo Code 根据任务进度自动管理工作流状态。每个待办项有三种状态之一：

**待处理**：显示一个带边框的空圆圈，表示任务尚未开始
![待处理待办项，空圆圈](../../static/img/task-todo-list/task-todo-list-4.png)

**进行中**：显示一个填充的黄色圆圈，表示任务正在被处理
![进行中待办项，黄色圆圈](../../static/img/task-todo-list/task-todo-list-5.png)

**已完成**：显示一个填充的绿色圆圈，确认任务已完全完成
![已完成待办项，绿色圆圈](../../static/img/task-todo-list/task-todo-list-6.png)

### 审批期间编辑待办列表

当 Roo 提交待办列表更新以供审批时，您可以通过编辑模式完全控制：

1. **点击“编辑”** 进入编辑模式
2. **进行更改**：
   - 内联编辑任务描述
   - 使用下拉菜单更改状态（待处理/进行中/已完成）
   - 使用 × 按钮删除任务
   - 使用底部的“+ 添加待办”按钮添加新任务
3. **保存或取消** 您的更改
4. **批准或拒绝** 整体更新

注意：您的编辑会被暂存，只有当 Roo 处理下一次待办列表更新时才会应用。这保持了 Roo 对工作流的控制，同时让您对任务细节提供输入。

---

## 常见问题

**“我可以创建自己的待办列表吗？”**
可以，您可以通过要求 Roo “使用 update_todo_list 工具”或“创建待办列表”来手动触发待办列表创建。但是，Roo 保持对待办列表内容和工作流的控制——您在审批对话期间提供反馈，但 Roo 根据任务需求管理工作流。

**“我可以对简单任务使用待办列表吗？”**
Roo Code 通常只为复杂、多步骤任务创建待办列表，因为它们能提供明确的价值。对于简单任务，列表管理的开销是不必要的。

**“为什么我不能直接控制待办列表？”**
这是一个架构设计决策，Roo Code 保持对任务管理的权威。您提供指导和反馈，但 Roo 控制工作流以确保一致的任务进度和准确的状态跟踪。

---

## 配置

### 禁用待办列表

您可以通过 `todoListEnabled` 设置完全禁用待办列表。禁用后：
- Roo 不会为任何任务创建待办列表
- 环境详情中不会出现 REMINDERS 部分
- 现有待办列表将保持可见但不会更新