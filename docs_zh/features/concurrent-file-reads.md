---
description: 了解 Roo Code 的并发文件读取功能如何通过同时读取多达 100 个文件来加速开发，从而更好地理解上下文。
keywords:
  - concurrent file reads
  - multi-file reads
  - batch file reading
  - context loading
  - workspace efficiency
  - file operations
sidebar_label: 'Multi-File Reads'
---

# 并发文件读取（又称多文件读取）

并发文件读取功能允许 Roo 在单个步骤中从您的工作区读取多个文件。在处理需要来自多个文件的上下文的任务时，这显著提高了效率，因为 Roo 可以一次性收集所有必要信息，而不是一次读取一个文件。

### 主要功能
- 在单个请求中读取多达 100 个文件。
- 默认启用，以实现更快、更流畅的工作流程。
- 可配置限制从 1 到 100 个文件（设置为 1 会有效地禁用并发读取）。

---

## 优势

-   **提高速度**：通过最小化来回步骤的数量，减少 Roo 理解代码所需的时间。
-   **更好的上下文**：允许 Roo 构建更完整的代码心智模型，从而提供更准确和相关的响应。
-   **改进的工作流程**：简化需要来自多个文件信息的任务，提高您的工作效率。

---

## 为什么这很重要

**更快的上下文构建**：以前，当 Roo 需要理解您的项目时，您会看到多个请求，例如：
- “我可以读取 `src/app.js` 吗？” → 您批准
- “现在我可以读取 `src/utils.js` 吗？” → 您批准
- “我可以读取 `src/config.json` 吗？” → 您批准

**使用并发文件读取**：Roo 只需请求一次即可同时读取所有相关文件，立即获得完整视图，并更快地提供更好的帮助。

---

## 工作原理

当您要求 Roo 执行涉及多个文件的任务时，它将自动识别相关文件并一起读取它们。这在以下情况下特别有用：

-   理解分布在多个文件中的组件的整体结构。
-   重构在代码库其他部分有依赖项的代码。
-   回答需要对项目有广泛理解的问题。

Roo 被指示高效使用此功能，优先处理最关键的文件，并在单个批次中读取它们。[`read_file`](/advanced-usage/available-tools/read-file) 工具自动接受单个请求中的多个文件。

当 Roo 请求读取多个文件时，您将看到一个批量批准界面，显示：

- 所有待读取文件的列表
- 带有行范围指示符的文件路径（如果指定）
- 可点击的文件标题，用于在编辑器中打开文件
- **全部批准**和**全部拒绝**按钮，用于快速决策

<img src="/img/concurrent-file-reads/concurrent-file-reads-2.png" alt="批量批准界面，用于读取多个文件" width="600" />

---

## 配置

您可以通过点击 <Codicon name="gear" /> 图标并导航到设置的“上下文”部分来配置多文件读取功能。

<img src="/img/concurrent-file-reads/concurrent-file-reads-1.png" alt="并发文件读取设置，显示限制滑块" width="600" />

1.  **并发文件读取限制**：
    *   **设置**：`并发文件读取限制`
    *   **描述**：此设置确定 Roo 在单个请求中可以读取的最大文件数。默认为 5，范围为 1-100 个文件。更高的值可以加快涉及许多小文件的任务，但可能会使用更多内存。将值设置为 1 会有效地禁用并发读取，恢复到单文件读取。

:::note
每个请求的文件限制在 UI 中配置（默认为 5，最多 100）。后端 [`read_file`](/advanced-usage/available-tools/read-file) 工具不会强制执行硬性上限；实际行为还可能取决于所选的模型/工具。
:::