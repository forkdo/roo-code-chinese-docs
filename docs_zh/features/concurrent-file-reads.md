---
description: 了解 Roo Code 的并发文件读取功能如何通过同时读取多达 100 个文件来加速开发，从而更好地理解上下文。
keywords:
  - 并发文件读取
  - 多文件读取
  - 批量文件读取
  - 上下文加载
  - 工作区效率
  - 文件操作
image: /img/social-share.jpg
sidebar_label: '多文件读取'
---

# 并发文件读取（又名多文件读取）

并发文件读取功能允许 Roo 在单个步骤中从工作区读取多个文件。当处理需要多个文件上下文的任务时，这显著提高了效率，因为 Roo 可以一次性收集所有必要信息，而不是逐个读取文件。

### 主要功能
- 单个请求中最多可读取 100 个文件。
- 默认启用，提供更快、更流畅的工作流程。
- 可配置限制范围为 1 到 100 个文件（设置为 1 将有效禁用并发读取）。

---

## 优势

-   **提高速度**：通过减少来回步骤次数，缩短 Roo 理解代码所需的时间。
-   **更好的上下文**：允许 Roo 构建更完整的代码心智模型，从而提供更准确和相关的响应。
-   **改进的工作流程**：简化需要从多个文件获取信息的任务，提高您的工作效率。

---

## 为什么这很重要

**更快的上下文构建**：以前，当 Roo 需要理解您的项目时，您会看到多个请求，例如：
- "我可以读取 `src/app.js` 吗？" → 您批准
- "现在我可以读取 `src/utils.js` 吗？" → 您批准
- "我可以读取 `src/config.json` 吗？" → 您批准

**使用并发文件读取**：Roo 一次性请求读取所有相关文件，立即获得完整信息，更快地提供更好的帮助。

---

## 工作原理

当您要求 Roo 执行涉及多个文件的任务时，它会自动识别相关文件并一起读取。这对于以下情况特别有用：

-   理解跨多个文件拆分的组件的整体结构。
-   重构在代码库其他部分有依赖关系的代码。
-   回答需要广泛了解您项目的疑问。

Roo 通过优先处理最关键的文件并在单个批次中读取它们来高效使用此功能。[`read_file`](/advanced-usage/available-tools/read-file) 工具自动接受单个请求中的多个文件。

当 Roo 请求读取多个文件时，您会看到一个批量批准界面，显示：

- 要读取的所有文件列表
- 带有行范围指示器（如果指定）的文件路径
- 可点击的文件标题以在编辑器中打开文件
- **全部批准** 和 **全部拒绝** 按钮以快速决策

<img src="/img/concurrent-file-reads/concurrent-file-reads-2.png" alt="读取多个文件的批量批准界面" width="600" />

---

## 配置

您可以通过点击 <Codicon name="gear" /> 图标并导航到设置的"上下文"部分来配置多文件读取功能。

<img src="/img/concurrent-file-reads/concurrent-file-reads-1.png" alt="显示限制滑块的并发文件读取设置" width="600" />

1.  **并发文件读取限制**：
    *   **设置**：`Concurrent file reads limit`
    *   **描述**：此设置确定 Roo 在单个请求中可以读取的最大文件数。默认值为 5，范围为 1-100 个文件。较高的值可以加速涉及许多小文件的任务，但可能会使用更多内存。将值设置为 1 将有效禁用并发读取，恢复到单文件读取。

:::note
每请求文件限制在 UI 中配置（默认 5，最多 100）。后端 [`read_file`](/advanced-usage/available-tools/read-file) 工具不强制执行硬性上限；实际行为也可能取决于所选模型/工具。
:::