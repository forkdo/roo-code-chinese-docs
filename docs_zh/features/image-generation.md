---
description: 使用 OpenRouter API 从文本提示生成新图像或编辑现有图像。在 Roo Code 中转换、增强图像，并将 AI 处理后的图像保存到工作区，支持预览功能。
keywords:
  - 图像生成
  - 图像编辑
  - 文本转图像
  - 图像转换
  - OpenRouter
  - AI 图像
  - 实验性功能
  - 图像创建
  - 提示转图像
  - 水彩
  - 超分辨率
  - 风格迁移
image: /img/social-share.jpg
---

# 图像生成

从文本提示生成新图像，或编辑工作区中的现有图像。将结果保存到您选择的工作区路径中，并在聊天中预览。此实验性功能需要配置 OpenRouter API 密钥。

:::warning 实验性功能
图像生成是一项实验性功能，需要在设置中启用并配置 OpenRouter API 密钥。
:::

---

## 核心功能

- 使用自然语言从文本提示生成新图像
- 编辑和转换工作区中的现有图像
- 保存到您选择的工作区路径；如果缺少扩展名，会自动添加适当的扩展名（.png 或 .jpg）
- 在对话中显示生成/编辑图像的预览
- 当前通过 OpenRouter 使用 Gemini 2.5 Flash Image Preview 模型
- 在实验性设置中提供简单的开关切换

---

## 使用场景

### 图像生成
**之前：** 您需要将提示复制到外部网站，下载结果，然后将其移入工作区。

**使用此功能后：** 要求 Roo 生成图像，确认后选择保存位置，然后继续编辑，图像已直接位于您的项目中。

### 图像编辑
**之前：** 导出图像，上传到外部编辑器，进行修改，下载，再导入项目。

**使用此功能后：** 要求 Roo 直接转换您的现有图像 — 它读取文件，应用您的编辑，并将结果保存在您的项目中。

---

## 工作原理

启用后，Roo 会通过 OpenRouter 将您的提示（以及可选的现有图像）发送到支持图像功能的模型。OpenRouter 返回的生成或编辑图像将保存到您在当前工作区中指定的路径。Roo 在聊天中显示预览，文件会出现在您的文件浏览器中。

---

## 系统要求

- OpenRouter 账户和 API 密钥
- 互联网访问权限
- 已打开且可写的项目文件夹

---

## 配置说明

### 1. 启用图像生成（实验性）
- **用途：** 开启此功能，使 Roo 能够按需创建图像
- **默认值：** 关闭
- **位置：** 设置 > 实验性

### 2. OpenRouter API 密钥
- **用途：** 授权图像生成请求
- **默认值：** 空（必需）
- **获取密钥：** [https://openrouter.ai/keys](https://openrouter.ai/keys)

### 3. 图像生成模型
- **用途：** 选择用于生成的模型
- **默认值：** Gemini 2.5 Flash Image Preview
- **可用模型：** 当前仅限 Gemini 2.5 Flash Image Preview 及其免费版本

---

## 使用图像生成

1. 在聊天中要求 Roo 生成图像，并描述您想要的内容（主题、风格、光线、构图）。
2. 在提示时确认操作。Roo 可能会要求您选择保存路径（例如：`images/sunset.png`）。
3. Roo 生成图像并保存。如果您未包含扩展名，会根据输出格式自动添加适当的扩展名（.png 或 .jpg）。
4. 在聊天中查看图像预览，并在工作区中找到该文件。

---

## 编辑现有图像

Roo 还可以转换和编辑工作区中的现有图像：

1. 要求 Roo 编辑图像，描述您想要的转换
2. 同时指定输入图像路径和保存结果的位置
3. Roo 将对现有图像应用您请求的编辑

**支持的输入格式：** PNG、JPG、JPEG、GIF、WEBP

**示例请求：**
- "将 `photos/portrait.jpg` 转换为水彩画并保存为 `art/watercolor-portrait.png`"
- "将 `images/logo.png` 放大并增强到更高分辨率"
- "对 `screenshots/app.png` 应用复古滤镜"

**注意：** 输入图像路径和输出路径都必须可访问（不被 `.rooignore` 阻止）

---

## 提升效果的技巧

### 具体明确
在您的提示中包含以下元素：
- **风格：** 艺术媒介、艺术流派或特定艺术家风格
- **氛围：** 情感基调、氛围
- **色彩方案：** 特定颜色或配色方案
- **相机/光线：** 角度、透视、光线条件
- **纵横比：** 尺寸或方向

---

## 限制说明

- 实验性功能；可用性和模型列表有限
- 当前仅限于 Gemini 2.5 Flash Image Preview 模型
- 每次请求仅生成一张图像
- 支持的输出格式：PNG 或 JPG
- 支持的编辑输入格式：仅限 PNG、JPG、JPEG、GIF、WEBP
- 图像路径必须可访问（不被 `.rooignore` 限制）
- 使用可能受您的 OpenRouter 套餐限制和费用约束

---

## 状态说明

此功能处于实验阶段，可能在未来的版本中更改或移除。请通过 [GitHub Issues](https://github.com/RooCodeInc/Roo-Code/issues) 提供反馈。