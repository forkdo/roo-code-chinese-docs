<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-features/custom-instructions" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">自定义指令 | Roo Code Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://docs.roocode.com/img/social-share.png"><meta data-rh="true" name="twitter:image" content="https://docs.roocode.com/img/social-share.png"><meta data-rh="true" property="og:url" content="https://docs.roocode.com/features/custom-instructions"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:site" content="@roocode"><meta data-rh="true" name="twitter:creator" content="@roocode"><meta data-rh="true" property="og:type" content="website"><meta data-rh="true" property="og:locale" content="en_US"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="自定义指令 | Roo Code Documentation"><meta data-rh="true" name="description" content="了解如何使用自定义指令，根据你的偏好、编码风格和项目需求来定制 Roo Code 的行为。"><meta data-rh="true" property="og:description" content="了解如何使用自定义指令，根据你的偏好、编码风格和项目需求来定制 Roo Code 的行为。"><meta data-rh="true" name="keywords" content="custom instructions,personalization,AI customization,coding preferences,project rules"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.roocode.com/features/custom-instructions"><link data-rh="true" rel="alternate" href="https://docs.roocode.com/features/custom-instructions" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.roocode.com/features/custom-instructions" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"自定义指令","item":"https://docs.roocode.com/features/custom-instructions"}]}</script><link rel="stylesheet" href="/assets/css/styles.ed97a050.css">
<script src="/assets/js/runtime~main.ad550b1e.js" defer="defer"></script>
<script src="/assets/js/main.db0da510.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/roo-code-logo-dark.svg"><link rel="preload" as="image" href="/img/roo-code-logo-white.svg"><link rel="preload" as="image" href="/img/custom-instructions/custom-instructions.png"><link rel="preload" as="image" href="/img/custom-instructions/custom-instructions-2.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/roo-code-logo-dark.svg" alt="Roo Code Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/roo-code-logo-white.svg" alt="Roo Code Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="navbar__items navbar__items--center"><div class="navbarSearchContainer_dCNk"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="searchBarLoadingRing_YnHq"></div></div></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="socialIcons_HJHc"><a href="https://www.reddit.com/r/RooCode/" target="_blank" rel="noopener noreferrer" class="socialLink_raBN" title="Reddit" aria-label="Reddit"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M0 256C0 114.6 114.6 0 256 0S512 114.6 512 256s-114.6 256-256 256L37.1 512c-13.7 0-20.5-16.5-10.9-26.2L75 437C28.7 390.7 0 326.7 0 256zM349.6 153.6c23.6 0 42.7-19.1 42.7-42.7s-19.1-42.7-42.7-42.7c-20.6 0-37.8 14.6-41.8 34c-34.5 3.7-61.4 33-61.4 68.4l0 .2c-37.5 1.6-71.8 12.3-99 29.1c-10.1-7.8-22.8-12.5-36.5-12.5c-33 0-59.8 26.8-59.8 59.8c0 24 14.1 44.6 34.4 54.1c2 69.4 77.6 125.2 170.6 125.2s168.7-55.9 170.6-125.3c20.2-9.6 34.1-30.2 34.1-54c0-33-26.8-59.8-59.8-59.8c-13.7 0-26.3 4.6-36.4 12.4c-27.4-17-62.1-27.7-100-29.1l0-.2c0-25.4 18.9-46.5 43.4-49.9l0 0c4.4 18.8 21.3 32.8 41.5 32.8zM177.1 246.9c16.7 0 29.5 17.6 28.5 39.3s-13.5 29.6-30.3 29.6s-31.4-8.8-30.4-30.5s15.4-38.3 32.1-38.3zm190.1 38.3c1 21.7-13.7 30.5-30.4 30.5s-29.3-7.9-30.3-29.6c-1-21.7 11.8-39.3 28.5-39.3s31.2 16.6 32.1 38.3zm-48.1 56.7c-10.3 24.6-34.6 41.9-63 41.9s-52.7-17.3-63-41.9c-1.2-2.9 .8-6.2 3.9-6.5c18.4-1.9 38.3-2.9 59.1-2.9s40.7 1 59.1 2.9c3.1 .3 5.1 3.6 3.9 6.5z"></path></svg></a><a href="https://discord.gg/roocode" target="_blank" rel="noopener noreferrer" class="socialLink_raBN" title="Discord" aria-label="Discord"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 640 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"></path></svg></a></div><div class="container_MBB3"><a href="https://github.com/RooCodeInc/Roo-Code" target="_blank" rel="noopener noreferrer" class="githubButton_m6zQ" title="GitHub Repository"><svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 15 15" class="icon_I806" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.49933 0.25C3.49635 0.25 0.25 3.49593 0.25 7.50024C0.25 10.703 2.32715 13.4206 5.2081 14.3797C5.57084 14.446 5.70302 14.2222 5.70302 14.0299C5.70302 13.8576 5.69679 13.4019 5.69323 12.797C3.67661 13.235 3.25112 11.825 3.25112 11.825C2.92132 10.9874 2.44599 10.7644 2.44599 10.7644C1.78773 10.3149 2.49584 10.3238 2.49584 10.3238C3.22353 10.375 3.60629 11.0711 3.60629 11.0711C4.25298 12.1788 5.30335 11.8588 5.71638 11.6732C5.78225 11.205 5.96962 10.8854 6.17658 10.7043C4.56675 10.5209 2.87415 9.89918 2.87415 7.12104C2.87415 6.32925 3.15677 5.68257 3.62053 5.17563C3.54576 4.99226 3.29697 4.25521 3.69174 3.25691C3.69174 3.25691 4.30015 3.06196 5.68522 3.99973C6.26337 3.83906 6.8838 3.75895 7.50022 3.75583C8.1162 3.75895 8.73619 3.83906 9.31523 3.99973C10.6994 3.06196 11.3069 3.25691 11.3069 3.25691C11.7026 4.25521 11.4538 4.99226 11.3795 5.17563C11.8441 5.68257 12.1245 6.32925 12.1245 7.12104C12.1245 9.9063 10.4292 10.5192 8.81452 10.6985C9.07444 10.9224 9.30633 11.3648 9.30633 12.0413C9.30633 13.0102 9.29742 13.7922 9.29742 14.0299C9.29742 14.2239 9.42828 14.4496 9.79591 14.3788C12.6746 13.4179 14.75 10.7025 14.75 7.50024C14.75 3.49593 11.5036 0.25 7.49933 0.25Z" fill="currentColor"></path></svg><span>15.4k</span></a><a href="https://app.roocode.com/sign-in" target="_blank" rel="noopener noreferrer" class="secondaryButton_gXv9" title="Log into Roo Code Cloud"><span>Log in</span></a><a href="https://app.roocode.com/sign-up" target="_blank" rel="noopener noreferrer" class="installButton_U1Rr" title="Sign up"><span>Sign up</span></a><a href="https://marketplace.visualstudio.com/items?itemName=RooVeterinaryInc.roo-cline" target="_blank" rel="noopener noreferrer" class="installButton_U1Rr" title="Install VS Code Extension"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="icon_I806" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10.8634 13.9195C10.6568 14.0195 10.4233 14.0246 10.2185 13.9444C10.1162 13.9044 10.021 13.843 9.93997 13.7614L4.81616 9.06268L2.58433 10.7656C2.37657 10.9241 2.08597 10.9111 1.89301 10.7347L1.17719 10.0802C0.941168 9.86437 0.940898 9.49112 1.17661 9.27496L3.11213 7.5L1.17661 5.72504C0.940898 5.50888 0.941168 5.13563 1.17719 4.91982L1.89301 4.2653C2.08597 4.08887 2.37657 4.07588 2.58433 4.2344L4.81616 5.93732L9.93997 1.23855C9.97037 1.20797 10.0028 1.18023 10.0368 1.15538C10.2748 0.981429 10.5922 0.949298 10.8634 1.08048L13.5399 2.37507C13.8212 2.5111 14 2.79721 14 3.11109V8H10.752V4.53356L6.86419 7.5L10.752 10.4664V8H14V11.8889C14 12.2028 13.8211 12.4889 13.5399 12.625L10.8634 13.9195Z"></path></svg><span>Install <span class="separator_XjHL">·</span></span><span>574.1k</span></a></div><button class="themeToggle_Agwr colorModeToggle_x44X" aria-label="Toggle theme" title="Toggle theme"><svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 15 15" class="icon_DZW4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.5 0C7.77614 0 8 0.223858 8 0.5V2.5C8 2.77614 7.77614 3 7.5 3C7.22386 3 7 2.77614 7 2.5V0.5C7 0.223858 7.22386 0 7.5 0ZM2.1967 2.1967C2.39196 2.00144 2.70854 2.00144 2.90381 2.1967L4.31802 3.61091C4.51328 3.80617 4.51328 4.12276 4.31802 4.31802C4.12276 4.51328 3.80617 4.51328 3.61091 4.31802L2.1967 2.90381C2.00144 2.70854 2.00144 2.39196 2.1967 2.1967ZM0.5 7C0.223858 7 0 7.22386 0 7.5C0 7.77614 0.223858 8 0.5 8H2.5C2.77614 8 3 7.77614 3 7.5C3 7.22386 2.77614 7 2.5 7H0.5ZM2.1967 12.8033C2.00144 12.608 2.00144 12.2915 2.1967 12.0962L3.61091 10.682C3.80617 10.4867 4.12276 10.4867 4.31802 10.682C4.51328 10.8772 4.51328 11.1938 4.31802 11.3891L2.90381 12.8033C2.70854 12.9986 2.39196 12.9986 2.1967 12.8033ZM12.5 7C12.2239 7 12 7.22386 12 7.5C12 7.77614 12.2239 8 12.5 8H14.5C14.7761 8 15 7.77614 15 7.5C15 7.22386 14.7761 7 14.5 7H12.5ZM10.682 4.31802C10.4867 4.12276 10.4867 3.80617 10.682 3.61091L12.0962 2.1967C12.2915 2.00144 12.608 2.00144 12.8033 2.1967C12.9986 2.39196 12.9986 2.70854 12.8033 2.90381L11.3891 4.31802C11.1938 4.51328 10.8772 4.51328 10.682 4.31802ZM8 12.5C8 12.2239 7.77614 12 7.5 12C7.22386 12 7 12.2239 7 12.5V14.5C7 14.7761 7.22386 15 7.5 15C7.77614 15 8 14.7761 8 14.5V12.5ZM10.682 10.682C10.8772 10.4867 11.1938 10.4867 11.3891 10.682L12.8033 12.0962C12.9986 12.2915 12.9986 12.608 12.8033 12.8033C12.608 12.9986 12.2915 12.9986 12.0962 12.8033L10.682 11.3891C10.4867 11.1938 10.4867 10.8772 10.682 10.682ZM5.5 7.5C5.5 6.39543 6.39543 5.5 7.5 5.5C8.60457 5.5 9.5 6.39543 9.5 7.5C9.5 8.60457 8.60457 9.5 7.5 9.5C6.39543 9.5 5.5 8.60457 5.5 7.5ZM7.5 4.5C5.84315 4.5 4.5 5.84315 4.5 7.5C4.5 9.15685 5.84315 10.5 7.5 10.5C9.15685 10.5 10.5 9.15685 10.5 7.5C10.5 5.84315 9.15685 4.5 7.5 4.5Z" fill="currentColor"></path></svg></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/"><span title="欢迎" class="linkLabel_WmDU">欢迎</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/getting-started/installing"><span title="Roo Code VSCode Extension" class="categoryLinkLabel_W154">Roo Code VSCode Extension</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/getting-started/installing"><span title="安装 Roo Code" class="linkLabel_WmDU">安装 Roo Code</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/getting-started/connecting-api-provider"><span title="连接 AI 提供商" class="linkLabel_WmDU">连接 AI 提供商</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/getting-started/your-first-task"><span title="你的第一个任务" class="linkLabel_WmDU">你的第一个任务</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/basic-usage/the-chat-interface"><span title="聊天界面" class="linkLabel_WmDU">聊天界面</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/basic-usage/typing-your-requests"><span title="输入您的请求" class="linkLabel_WmDU">输入您的请求</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/basic-usage/how-tools-work"><span title="工具工作原理" class="linkLabel_WmDU">工具工作原理</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/basic-usage/context-mentions"><span title="上下文提及" class="linkLabel_WmDU">上下文提及</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/basic-usage/using-modes"><span title="使用模式" class="linkLabel_WmDU">使用模式</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tips-and-tricks"><span title="技巧与窍门" class="linkLabel_WmDU">技巧与窍门</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reporting-errors"><span title="报告错误" class="linkLabel_WmDU">报告错误</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/features/api-configuration-profiles"><span title="Features" class="categoryLinkLabel_W154">Features</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/api-configuration-profiles"><span title="API 配置方案" class="linkLabel_WmDU">API 配置方案</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/auto-approving-actions"><span title="自动批准操作" class="linkLabel_WmDU">自动批准操作</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/boomerang-tasks"><span title="Boomerang Tasks" class="linkLabel_WmDU">Boomerang Tasks</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/browser-use"><span title="浏览器使用" class="linkLabel_WmDU">浏览器使用</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/checkpoints"><span title="检查点" class="linkLabel_WmDU">检查点</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/code-actions"><span title="Code Actions" class="linkLabel_WmDU">Code Actions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/codebase-indexing"><span title="代码库索引" class="linkLabel_WmDU">代码库索引</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/features/custom-instructions"><span title="自定义指令" class="linkLabel_WmDU">自定义指令</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/diagnostics-integration"><span title="诊断集成" class="linkLabel_WmDU">诊断集成</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/custom-modes"><span title="自定义模式" class="linkLabel_WmDU">自定义模式</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/enhance-prompt"><span title="增强提示" class="linkLabel_WmDU">增强提示</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/settings-management"><span title="导入/导出/重置设置" class="linkLabel_WmDU">导入/导出/重置设置</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/intelligent-context-condensing"><span title="智能上下文压缩" class="linkLabel_WmDU">智能上下文压缩</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/keyboard-shortcuts"><span title="键盘导航" class="linkLabel_WmDU">键盘导航</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/marketplace"><span title="Roo Code Marketplace" class="linkLabel_WmDU">Roo Code Marketplace</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/message-queueing"><span title="Message Queueing" class="linkLabel_WmDU">Message Queueing</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/model-temperature"><span title="模型温度" class="linkLabel_WmDU">模型温度</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/concurrent-file-reads"><span title="Multi-File Reads" class="linkLabel_WmDU">Multi-File Reads</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/rooignore"><span title=".rooignore" class="linkLabel_WmDU">.rooignore</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/skills"><span title="Skills" class="linkLabel_WmDU">Skills</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/slash-commands"><span title="斜杠命令" class="linkLabel_WmDU">斜杠命令</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/suggested-responses"><span title="建议回复" class="linkLabel_WmDU">建议回复</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/task-todo-list"><span title="任务待办列表" class="linkLabel_WmDU">任务待办列表</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/worktrees"><span title="Worktrees" class="linkLabel_WmDU">Worktrees</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/shell-integration"><span title="Terminal Shell Integration" class="linkLabel_WmDU">Terminal Shell Integration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/features/more-features"><span title="其他功能" class="linkLabel_WmDU">其他功能</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/features/mcp/overview"><span title="MCP" class="categoryLinkLabel_W154">MCP</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/features/experimental/experimental-features"><span title="Experimental" class="categoryLinkLabel_W154">Experimental</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/advanced-usage/available-tools/tool-use-overview"><span title="Advanced Usage" class="categoryLinkLabel_W154">Advanced Usage</span></a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/roo-code-cloud/overview"><span title="Roo Code Cloud" class="categoryLinkLabel_W154">Roo Code Cloud</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/roo-code-router/overview"><span title="Roo Code Router" class="linkLabel_WmDU">Roo Code Router</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/credits/overview"><span title="Roo Code Credits" class="linkLabel_WmDU">Roo Code Credits</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tutorial-videos"><span title="Tutorial Videos" class="linkLabel_WmDU">Tutorial Videos</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/providers/"><span title="Model Providers" class="categoryLinkLabel_W154">Model Providers</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/update-notes/"><span title="Extension Release Notes" class="categoryLinkLabel_W154">Extension Release Notes</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/faq"><span title="FAQ" class="linkLabel_WmDU">FAQ</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://github.com/RooCodeInc/Roo-Code/blob/main/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK"><span title="Contributing (GitHub)" class="linkLabel_WmDU">Contributing (GitHub)</span><svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://github.com/cannuri/Roocabulary" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK"><span title="Roocabulary (GitHub)" class="linkLabel_WmDU">Roocabulary (GitHub)</span><svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label="Breadcrumbs"><div class="breadcrumbsWrapper_NBHK"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_xK9p"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Roo Code VSCode Extension</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Features</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">自定义指令</span></li></ul><button class="copyButton_NdLO copy-button" title="Copy page content" aria-label="Copy page content to clipboard"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" class="icon_iRRv" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown doc-container"><header><h1>自定义指令</h1></header>
<p>自定义指令允许你个性化定制 Roo 的行为，提供具体的指导，塑造其响应方式、编码风格和决策流程。</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>指令文件位置</div><div class="admonitionContent_BuS1"><p>你可以通过全局规则（应用于所有项目）、工作区规则（特定于项目）或通过 Prompts 标签页界面来提供自定义指令。</p><p><strong>全局规则目录：</strong> 自动应用于所有项目。</p><ul>
<li class=""><strong>Linux/macOS：</strong> <code>~/.roo/rules/</code> 和 <code>~/.roo/rules-{modeSlug}/</code></li>
<li class=""><strong>Windows：</strong> <code>%USERPROFILE%\.roo\rules\</code> 和 <code>%USERPROFILE%\.roo\rules-{modeSlug}\</code></li>
</ul><p><strong>工作区规则：</strong> 仅应用于当前项目，当与全局规则冲突时，工作区规则优先。</p><ul>
<li class=""><strong>首选方法：目录（<code>.roo/rules/</code>）</strong>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── .roo/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   └── rules/          # 工作区范围的规则</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│       ├── 01-general.md</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│       └── 02-coding-style.txt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── ... (其他项目文件)</span><br></span></code></pre></div></div>
</li>
<li class=""><strong>备用方法：单个文件（<code>.roorules</code>）</strong>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── .roorules           # 工作区范围的规则（单个文件）</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── ... (其他项目文件)</span><br></span></code></pre></div></div>
</li>
</ul><p><strong>特定模式的指令：</strong> 仅应用于特定模式（例如 <code>code</code>）。</p><ul>
<li class=""><strong>首选方法：目录（<code>.roo/rules-{modeSlug}/</code>）</strong>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── .roo/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   └── rules-code/     # “code”模式的规则</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│       ├── 01-js-style.md</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│       └── 02-ts-style.md</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── ... (其他项目文件)</span><br></span></code></pre></div></div>
</li>
<li class=""><strong>备用方法：单个文件（<code>.roorules-{modeSlug}</code>）</strong>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── .roorules-code      # “code”模式的规则（单个文件）</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── ... (其他项目文件)</span><br></span></code></pre></div></div>
</li>
</ul><p>规则加载顺序：先加载全局规则，然后加载工作区规则。如果存在冲突，工作区规则优先。详情请参阅<a href="#global-rules-directory" class="">全局规则目录</a>。
::}</p><hr><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="什么是自定义指令">什么是自定义指令？<a href="#什么是自定义指令" class="hash-link" aria-label="Direct link to 什么是自定义指令？" title="Direct link to 什么是自定义指令？" translate="no">​</a></h2><p>自定义指令定义了超出 Roo 基本角色定义的特定行为、偏好和约束。示例包括编码风格、文档标准、测试要求和工作流指南。</p><hr><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="设置自定义指令">设置自定义指令<a href="#设置自定义指令" class="hash-link" aria-label="Direct link to 设置自定义指令" title="Direct link to 设置自定义指令" translate="no">​</a></h2><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="全局自定义指令">全局自定义指令<a href="#全局自定义指令" class="hash-link" aria-label="Direct link to 全局自定义指令" title="Direct link to 全局自定义指令" translate="no">​</a></h3><p>这些指令适用于所有工作区，无论你在哪个项目中工作，都能保持你的偏好设置。</p><p><strong>设置方法：</strong></p><img src="/img/custom-instructions/custom-instructions.png" alt="Roo Code Prompts 标签页显示全局自定义指令界面" width="600"><ol>
<li class=""><strong>打开 Prompts 标签页：</strong> 点击 Roo Code 顶部菜单栏中的 <i class="codicon codicon-notebook" aria-hidden="true"></i> 图标</li>
<li class=""><strong>找到对应部分：</strong> 找到“所有模式的自定义指令”部分</li>
<li class=""><strong>输入指令：</strong> 在文本区域中输入你的指令</li>
<li class=""><strong>保存更改：</strong> 点击“完成”以保存你的更改</li>
</ol><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="全局规则目录">全局规则目录<a href="#全局规则目录" class="hash-link" aria-label="Direct link to 全局规则目录" title="Direct link to 全局规则目录" translate="no">​</a></h3><p>全局规则目录功能提供了可重用的规则和自定义指令，可自动应用于你的所有项目。该系统支持全局配置和特定于项目的覆盖。</p><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="主要优势">主要优势<a href="#主要优势" class="hash-link" aria-label="Direct link to 主要优势" title="Direct link to 主要优势" translate="no">​</a></h4><p><strong>无全局规则时</strong>：你必须在每个项目中维护单独规则文件：</p><ul>
<li class="">将相同规则复制到每个新项目</li>
<li class="">手动跨多个项目更新规则</li>
<li class="">项目之间缺乏一致性</li>
</ul><p><strong>有全局规则时</strong>：创建一次规则即可随处使用：</p><ul>
<li class="">全局设置你首选的编码标准</li>
<li class="">在需要时针对特定项目自定义规则</li>
<li class="">在所有工作中保持一致性</li>
<li class="">轻松一次性更新所有项目的规则</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="目录结构">目录结构<a href="#目录结构" class="hash-link" aria-label="Direct link to 目录结构" title="Direct link to 目录结构" translate="no">​</a></h4><p>全局规则目录位置是固定的，无法自定义：</p><p><strong>Linux/macOS：</strong></p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">~/.roo/                           # 你的全局 Roo 配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── rules/                        # 应用于所有项目的通用规则</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── coding-standards.md</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── formatting-rules.md</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   └── security-guidelines.md</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── rules-code/                   # 特定于 Code 模式的规则</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── typescript-rules.md</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   └── testing-requirements.md</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── rules-docs-extractor/         # 文档提取规则</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   └── documentation-style.md</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── rules-{mode}/                 # 其他特定模式的规则</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └── mode-specific-rules.md</span><br></span></code></pre></div></div><p><strong>Windows：</strong></p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">%USERPROFILE%\.roo\               # 你的全局 Roo 配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── rules\                        # 应用于所有项目的通用规则</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── coding-standards.md</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── formatting-rules.md</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   └── security-guidelines.md</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── rules-code\                   # 特定于 Code 模式的规则</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── typescript-rules.md</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   └── testing-requirements.md</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── rules-{mode}\                 # 其他特定模式的规则</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └── mode-specific-rules.md</span><br></span></code></pre></div></div><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="设置全局规则">设置全局规则<a href="#设置全局规则" class="hash-link" aria-label="Direct link to 设置全局规则" title="Direct link to 设置全局规则" translate="no">​</a></h4><ol>
<li class="">
<p><strong>创建全局规则目录：</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Linux/macOS</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mkdir -p ~/.roo/rules</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Windows</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mkdir %USERPROFILE%\.roo\rules</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>添加通用规则</strong> (<code>~/.roo/rules/coding-standards.md</code>)：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token title important punctuation" style="color:rgb(248, 248, 242)">#</span><span class="token title important"> 全局编码标准</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(248, 248, 242)">1.</span><span class="token plain"> 新项目始终使用 TypeScript</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(248, 248, 242)">2.</span><span class="token plain"> 为所有新函数编写单元测试</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(248, 248, 242)">3.</span><span class="token plain"> 使用描述性变量名</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(248, 248, 242)">4.</span><span class="token plain"> 为公共 API 添加 JSDoc 注释</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>添加特定模式规则</strong> (<code>~/.roo/rules-code/typescript-rules.md</code>)：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token title important punctuation" style="color:rgb(248, 248, 242)">#</span><span class="token title important"> TypeScript Code 模式规则</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(248, 248, 242)">1.</span><span class="token plain"> 在 tsconfig.json 中使用严格模式</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(248, 248, 242)">2.</span><span class="token plain"> 对于对象形状，优先使用接口而非类型别名</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(248, 248, 242)">3.</span><span class="token plain"> 始终为函数指定返回类型</span><br></span></code></pre></div></div>
</li>
</ol><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="可用规则目录">可用规则目录<a href="#可用规则目录" class="hash-link" aria-label="Direct link to 可用规则目录" title="Direct link to 可用规则目录" translate="no">​</a></h4><table><thead><tr><th>目录</th><th>用途</th></tr></thead><tbody><tr><td><code>rules/</code></td><td>应用于所有模式的通用规则</td></tr><tr><td><code>rules-code/</code></td><td>特定于 Code 模式的规则</td></tr><tr><td><code>rules-docs-extractor/</code></td><td>文档提取规则</td></tr><tr><td><code>rules-architect/</code></td><td>系统架构任务规则</td></tr><tr><td><code>rules-debug/</code></td><td>调试工作流规则</td></tr><tr><td><code>rules-{mode}/</code></td><td>任何自定义模式的规则</td></tr></tbody></table><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="规则加载顺序">规则加载顺序<a href="#规则加载顺序" class="hash-link" aria-label="Direct link to 规则加载顺序" title="Direct link to 规则加载顺序" translate="no">​</a></h4><p>规则按此顺序加载：</p><ol>
<li class=""><strong>全局规则</strong>（来自 <code>~/.roo/</code>）</li>
<li class=""><strong>项目规则</strong>（来自 <code>project/.roo/</code>）- 当与全局规则冲突时优先于全局规则</li>
<li class="">[仅通用] <strong>遗留文件</strong>（工作区根目录 <code>.roorules</code>、<code>.clinerules</code>）- 仅当未加载任何通用规则目录内容时使用</li>
</ol><p>在每个级别内，特定模式的规则在通用规则之前加载。</p><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="工作区级指令">工作区级指令<a href="#工作区级指令" class="hash-link" aria-label="Direct link to 工作区级指令" title="Direct link to 工作区级指令" translate="no">​</a></h3><p>这些指令仅适用于当前工作区，允许你为特定项目定制 Roo Code 的行为。</p><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="通过文件目录设置工作区范围的指令">通过文件/目录设置工作区范围的指令<a href="#通过文件目录设置工作区范围的指令" class="hash-link" aria-label="Direct link to 通过文件/目录设置工作区范围的指令" title="Direct link to 通过文件/目录设置工作区范围的指令" translate="no">​</a></h4><p>工作区范围的指令应用于当前项目中的所有模式，可通过文件定义：</p><ul>
<li class=""><strong>首选方法：基于目录（<code>.roo/rules/</code>）</strong>
<ul>
<li class="">在工作区根目录创建一个名为 <code>.roo/rules/</code> 的目录。</li>
<li class="">将指令文件（例如 <code>.md</code>、<code>.txt</code>）放入其中。Roo Code 会递归读取文件（包括子目录），并根据文件名按<strong>字母顺序</strong>将其内容附加到系统提示中。</li>
<li class="">当此目录存在且包含文件时，其内容将与任何全局规则目录一起加载。</li>
<li class="">注意：如果 <code>.roo/rules/</code> 目录存在但为空，Roo Code 将转而使用 <code>.roorules</code> 文件。</li>
</ul>
</li>
<li class=""><strong>备用方法：基于文件（<code>.roorules</code>）</strong>
<ul>
<li class="">如果 <code>.roo/rules/</code> 不存在或为空，Roo Code 会在工作区根目录查找单个 <code>.roorules</code> 文件。</li>
<li class="">如果找到，则加载其内容。</li>
</ul>
</li>
</ul><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="特定模式的指令">特定模式的指令<a href="#特定模式的指令" class="hash-link" aria-label="Direct link to 特定模式的指令" title="Direct link to 特定模式的指令" translate="no">​</a></h4><p>特定模式的指令可以通过两种独立的方式设置，可同时使用：</p><ol>
<li class=""><strong>使用 Prompts 标签页：</strong></li>
</ol><img src="/img/custom-instructions/custom-instructions-2.png" alt="Roo Code Prompts tab showing mode-specific custom instructions interface" width="600"><ul>
<li class=""><strong>打开标签页：</strong> 点击 Roo Code 顶部菜单栏中的 <i class="codicon codicon-notebook" aria-hidden="true"></i> 图标</li>
<li class=""><strong>选择模式：</strong> 在“Modes”标题下，点击您要自定义的模式对应的按钮</li>
<li class=""><strong>输入指令：</strong> 在“Mode-specific Custom Instructions (optional)”下方的文本区域中输入您的指令</li>
<li class=""><strong>保存更改：</strong> 点击“Done”保存您的更改</li>
</ul><div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>全局模式规则</div><div class="admonitionContent_BuS1"><p>如果模式本身是全局性的（而非工作区特定），您为其设置的任何自定义指令也将全局应用于所有工作区中的该模式。</p></div></div></div></div>
<ol start="2">
<li class=""><strong>使用规则文件/目录：</strong> 通过文件提供特定于模式的指令：<!-- -->
<ul>
<li class=""><strong>首选方法：基于目录（<code>.roo/rules-{modeSlug}/</code>）</strong>
<ul>
<li class="">在工作区根目录创建一个名为 <code>.roo/rules-{modeSlug}/</code> 的目录（例如 <code>.roo/rules-docs-writer/</code>）。</li>
<li class="">将指令文件放入其中（递归加载，包括子目录）。文件按文件名<strong>字母顺序</strong>读取并附加到系统提示中。</li>
<li class="">如果目录存在且包含文件，此方法优先于特定模式的回退文件方法。</li>
</ul>
</li>
<li class=""><strong>回退方法：基于文件（<code>.roorules-{modeSlug}</code>）</strong>
<ul>
<li class="">如果 <code>.roo/rules-{modeSlug}/</code> 不存在或为空，Roo Code 会在工作区根目录查找单个 <code>.roorules-{modeSlug}</code> 文件（例如 <code>.roorules-code</code>）。</li>
<li class="">如果找到，其内容将加载到该模式。</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>来自“Prompts”标签页、全局规则、工作区规则和特定于模式的规则的指令都会被组合。请参见下面的确切顺序。</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="指令如何组合">指令如何组合<a href="#指令如何组合" class="hash-link" aria-label="Direct link to 指令如何组合" title="Direct link to 指令如何组合" translate="no">​</a></h2>
<p>指令以以下确切格式放置在系统提示中：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">====</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">USER&#x27;S CUSTOM INSTRUCTIONS</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">The following additional instructions are provided by the user, and should be followed to the best of your ability without interfering with the TOOL USE guidelines.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Language Preference:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[Language preference if set]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Global Instructions:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[Global Instructions from Prompts Tab]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Mode-specific Instructions:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[Mode-specific Instructions from Prompts Tab for the current mode]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Rules:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Rules from rules-{modeSlug} directories:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[Contents of ALL files from ~/.roo/rules-{modeSlug}/ AND .roo/rules-{modeSlug}/ if they exist]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Rules from .roorules-{modeSlug}:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[Contents of .roorules-{modeSlug} file if no mode-specific directories have files]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Rules from .rooignore:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[.rooignore-related instructions if applicable]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Agent Rules Standard (AGENTS.md):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[Contents of AGENTS.md or AGENT.md from workspace root if present and enabled]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Rules from rules directories:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[Contents of ALL files from ~/.roo/rules/ AND .roo/rules/ if they exist]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Rules from .roorules:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[Contents of .roorules file if no general rules directories have files]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">====</span><br></span></code></pre></div></div>
<p><em>注意：系统会从所有适用的目录（全局 <code>~/.roo/</code> 和工作区 <code>.roo/</code>）加载规则，而不仅仅是第一个包含文件的目录。特定于模式的规则出现在通用规则之前。基于目录的规则仅在确定使用哪种方法时优先于基于文件的回退，但所有适用的目录都会被读取。</em></p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="关于-rules-文件的规则">关于 .rules 文件的规则<a href="#关于-rules-文件的规则" class="hash-link" aria-label="Direct link to 关于 .rules 文件的规则" title="Direct link to 关于 .rules 文件的规则" translate="no">​</a></h2>
<ul>
<li class=""><strong>文件位置：</strong> 首选方法使用 <code>.roo/</code> 内的目录（<code>.roo/rules/</code> 和 <code>.roo/rules-{modeSlug}/</code>）。回退方法使用直接位于工作区根目录的单个文件（<code>.roorules</code> 和 <code>.roorules-{modeSlug}</code>）。</li>
<li class=""><strong>递归读取：</strong> 规则目录会递归读取，包括子目录中的所有文件</li>
<li class=""><strong>文件过滤：</strong> 系统会自动排除缓存和临时文件（<code>.DS_Store</code>、<code>*.bak</code>、<code>*.cache</code>、<code>*.log</code>、<code>*.tmp</code>、<code>Thumbs.db</code> 等）</li>
<li class=""><strong>空文件：</strong> 空或缺失的规则文件会被静默跳过</li>
<li class=""><strong>源文件头：</strong> 基于目录的规则包含每个文件的头 <code># Rules from {absolute path}:</code>，而基于文件的规则包含 <code># Rules from {filename}:</code> 头</li>
<li class=""><strong>聚合：</strong> 全局和工作区规则目录会针对特定于模式的规则和通用规则进行聚合（不是二选一）</li>
<li class=""><strong>排序：</strong> 文件仅按基本名称排序，不区分大小写</li>
<li class=""><strong>头路径：</strong> 头路径是绝对路径，并遵循符号链接</li>
<li class=""><strong>规则交互：</strong> 特定于模式的规则是对全局规则的补充，而不是替换</li>
<li class=""><strong>符号链接：</strong> 文件和目录的符号链接都完全支持，最大解析深度为 5，以防止无限循环</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="agentsmd-支持">AGENTS.md 支持<a href="#agentsmd-支持" class="hash-link" aria-label="Direct link to AGENTS.md 支持" title="Direct link to AGENTS.md 支持" translate="no">​</a></h2>
<p>Roo Code 还支持从工作区根目录的 <code>AGENTS.md</code>（或 <code>AGENT.md</code> 作为回退）文件加载规则：</p>
<ul>
<li class=""><strong>目的：</strong> 为 AI 行为提供特定于代理的规则和指南</li>
<li class=""><strong>位置：</strong> 必须位于工作区根目录</li>
<li class=""><strong>加载：</strong> 默认自动加载。要禁用 AGENTS.md 加载，请在 VSCode 设置中将 <code>&quot;roo-cline.useAgentRules&quot;: false</code></li>
<li class=""><strong>设置：</strong> <code>roo-cline.useAgentRules</code>（默认值：true）</li>
<li class=""><strong>优先级：</strong> 如果两者都存在，<code>AGENTS.md</code> 优先于 <code>AGENT.md</code></li>
<li class=""><strong>优先级：</strong> 在特定于模式的规则和 <code>.rooignore</code> 之后加载，在来自 <code>~/.roo/rules</code> 和 <code>.roo/rules</code> 的通用规则之前加载</li>
<li class=""><strong>头：</strong> 添加到系统提示中，头为 <code># Agent Rules Standard (AGENTS.md):</code> 或 <code>(AGENT.md):</code></li>
<li class=""><strong>空文件：</strong> 空或仅包含空白字符的 <code>AGENTS.md</code> 会被忽略</li>
<li class=""><strong>符号链接：</strong> 文件或目录的符号链接在读取前会被解析</li>
</ul>
<p>此功能允许团队维护标准化的 AI 代理行为规则，这些规则可以与项目代码一起进行版本控制。</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="自定义指令示例">自定义指令示例<a href="#自定义指令示例" class="hash-link" aria-label="Direct link to 自定义指令示例" title="Direct link to 自定义指令示例" translate="no">​</a></h2>
<ul>
<li class="">“始终使用空格进行缩进，宽度为 4 个空格”</li>
<li class="">“变量名使用 camelCase”</li>
<li class="">“为所有新函数编写单元测试”</li>
<li class="">“在提供代码之前解释您的推理”</li>
<li class="">“专注于代码的可读性和可维护性”</li>
<li class="">“优先使用社区中最常见的库”</li>
<li class="">“向网站添加新功能时，确保它们是响应式且可访问的”</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>专业提示：团队标准化</div><div class="admonitionContent_BuS1"><p>对于团队环境，请考虑以下方法：</p><p><strong>项目标准：</strong> 使用版本控制下的工作区 <code>.roo/rules/</code> 目录来标准化特定项目的 Roo 行为。这确保了团队成员之间一致的代码风格和开发工作流程。</p><p><strong>组织标准：</strong> 使用全局规则（<code>~/.roo/rules/</code>）来建立适用于所有项目的组织范围的编码标准。团队成员可以设置相同的全局规则，以确保所有工作的一致性。</p><p><strong>混合方法：</strong> 将组织标准的全局规则与特定于项目的特定于工作区的规则相结合，以满足特定于项目的需求。当规则冲突时，工作区规则优先。</p><p>基于目录的方法比单个 <code>.roorules</code> 文件提供了更好的组织，并支持全局和项目级别的定制。</p></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="与自定义模式结合">与自定义模式结合<a href="#与自定义模式结合" class="hash-link" aria-label="Direct link to 与自定义模式结合" title="Direct link to 与自定义模式结合" translate="no">​</a></h2>
<p>对于高级定制，请与<a class="" href="/features/custom-modes">自定义模式</a>结合使用，以创建具有特定工具访问权限、文件限制和定制指令的专门环境。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/RooCodeInc/Roo-Code-Docs/edit/main/docs/features/custom-instructions.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2026-01-05T16:02:29.000Z" itemprop="dateModified">Jan 5, 2026</time></b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/features/codebase-indexing"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">代码库索引</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/features/diagnostics-integration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">诊断集成</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#什么是自定义指令" class="table-of-contents__link toc-highlight">什么是自定义指令？</a></li><li><a href="#设置自定义指令" class="table-of-contents__link toc-highlight">设置自定义指令</a><ul><li><a href="#全局自定义指令" class="table-of-contents__link toc-highlight">全局自定义指令</a></li><li><a href="#全局规则目录" class="table-of-contents__link toc-highlight">全局规则目录</a></li><li><a href="#工作区级指令" class="table-of-contents__link toc-highlight">工作区级指令</a></li></ul></li><li><a href="#指令如何组合" class="table-of-contents__link toc-highlight">指令如何组合</a></li><li><a href="#关于-rules-文件的规则" class="table-of-contents__link toc-highlight">关于 .rules 文件的规则</a></li><li><a href="#agentsmd-支持" class="table-of-contents__link toc-highlight">AGENTS.md 支持</a></li><li><a href="#自定义指令示例" class="table-of-contents__link toc-highlight">自定义指令示例</a></li><li><a href="#与自定义模式结合" class="table-of-contents__link toc-highlight">与自定义模式结合</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__main"><div class="footer__brand"><div class="footer__logo-container"><img src="/img/roo-code-logo-dark.svg" alt="Roo Code Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="120" height="24"><img src="/img/roo-code-logo-white.svg" alt="Roo Code Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="120" height="24"></div><div class="footer__tagline">Your AI Software Engineering Team. Interactive in the IDE, autonomous in the cloud.</div><div class="footer__social-icons"><div style="display:flex;gap:1rem;flex-wrap:wrap;justify-content:center"><a href="https://github.com/RooCodeInc/Roo-Code" aria-label="GitHub" class="footer__link-item" style="text-decoration:none;transition:opacity 0.2s ease"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a href="https://discord.gg/roocode" aria-label="Discord" class="footer__link-item" style="text-decoration:none;transition:opacity 0.2s ease"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 640 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"></path></svg></a><a href="https://www.reddit.com/r/RooCode/" aria-label="Reddit" class="footer__link-item" style="text-decoration:none;transition:opacity 0.2s ease"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 256C0 114.6 114.6 0 256 0S512 114.6 512 256s-114.6 256-256 256L37.1 512c-13.7 0-20.5-16.5-10.9-26.2L75 437C28.7 390.7 0 326.7 0 256zM349.6 153.6c23.6 0 42.7-19.1 42.7-42.7s-19.1-42.7-42.7-42.7c-20.6 0-37.8 14.6-41.8 34c-34.5 3.7-61.4 33-61.4 68.4l0 .2c-37.5 1.6-71.8 12.3-99 29.1c-10.1-7.8-22.8-12.5-36.5-12.5c-33 0-59.8 26.8-59.8 59.8c0 24 14.1 44.6 34.4 54.1c2 69.4 77.6 125.2 170.6 125.2s168.7-55.9 170.6-125.3c20.2-9.6 34.1-30.2 34.1-54c0-33-26.8-59.8-59.8-59.8c-13.7 0-26.3 4.6-36.4 12.4c-27.4-17-62.1-27.7-100-29.1l0-.2c0-25.4 18.9-46.5 43.4-49.9l0 0c4.4 18.8 21.3 32.8 41.5 32.8zM177.1 246.9c16.7 0 29.5 17.6 28.5 39.3s-13.5 29.6-30.3 29.6s-31.4-8.8-30.4-30.5s15.4-38.3 32.1-38.3zm190.1 38.3c1 21.7-13.7 30.5-30.4 30.5s-29.3-7.9-30.3-29.6c-1-21.7 11.8-39.3 28.5-39.3s31.2 16.6 32.1 38.3zm-48.1 56.7c-10.3 24.6-34.6 41.9-63 41.9s-52.7-17.3-63-41.9c-1.2-2.9 .8-6.2 3.9-6.5c18.4-1.9 38.3-2.9 59.1-2.9s40.7 1 59.1 2.9c3.1 .3 5.1 3.6 3.9 6.5z"></path></svg></a><a href="https://x.com/roocode" aria-label="X (Twitter)" class="footer__link-item" style="text-decoration:none;transition:opacity 0.2s ease"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"></path></svg></a><a href="https://www.linkedin.com/company/roo-code" aria-label="LinkedIn" class="footer__link-item" style="text-decoration:none;transition:opacity 0.2s ease"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a><a href="https://www.tiktok.com/@roo.code" aria-label="TikTok" class="footer__link-item" style="text-decoration:none;transition:opacity 0.2s ease"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"></path></svg></a><a href="https://bsky.app/profile/roocode.bsky.social" aria-label="Bluesky" class="footer__link-item" style="text-decoration:none;transition:opacity 0.2s ease"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M407.8 294.7c-3.3-.4-6.7-.8-10-1.3c3.4 .4 6.7 .9 10 1.3zM288 227.1C261.9 176.4 190.9 81.9 124.9 35.3C61.6-9.4 37.5-1.7 21.6 5.5C3.3 13.8 0 41.9 0 58.4S9.1 194 15 213.9c19.5 65.7 89.1 87.9 153.2 80.7c3.3-.5 6.6-.9 10-1.4c-3.3 .5-6.6 1-10 1.4C74.3 308.6-9.1 342.8 100.3 464.5C220.6 589.1 265.1 437.8 288 361.1c22.9 76.7 49.2 222.5 185.6 103.4c102.4-103.4 28.1-156-65.8-169.9c-3.3-.4-6.7-.8-10-1.3c3.4 .4 6.7 .9 10 1.3c64.1 7.1 133.6-15.1 153.2-80.7C566.9 194 576 75 576 58.4s-3.3-44.7-21.6-52.9c-15.8-7.1-40-14.9-103.2 29.8C385.1 81.9 314.1 176.4 288 227.1z"></path></svg></a></div></div></div><div class="footer__links-wrapper"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">GitHub</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/RooCodeInc/Roo-Code/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issues</a></li><li class="footer__item"><a href="https://github.com/RooCodeInc/Roo-Code/discussions/categories/feature-requests?discussions_q=is%3Aopen+category%3A%22Feature+Requests%22+sort%3Atop" target="_blank" rel="noopener noreferrer" class="footer__link-item">Feature Requests</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Download</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://marketplace.visualstudio.com/items?itemName=RooVeterinaryInc.roo-cline" target="_blank" rel="noopener noreferrer" class="footer__link-item">VS Code Marketplace</a></li><li class="footer__item"><a href="https://open-vsx.org/extension/RooVeterinaryInc/roo-cline" target="_blank" rel="noopener noreferrer" class="footer__link-item">Open VSX Registry</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:support@roocode.com" target="_self" rel="noopener noreferrer" class="footer__link-item">Contact</a></li><li class="footer__item"><a href="https://careers.roocode.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers</a></li><li class="footer__item"><a href="https://roocode.com/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website Privacy Policy</a></li><li class="footer__item"><a href="https://github.com/RooCodeInc/Roo-Code/blob/main/PRIVACY.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">Extension Privacy Policy</a></li></ul></div></div></div></div></div></footer><div role="banner" aria-label="Cookie consent banner" aria-live="polite"></div></div>
</body>
</html>