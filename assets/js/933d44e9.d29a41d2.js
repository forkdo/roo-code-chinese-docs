"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[68892],{87496:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"update-notes/v3.22","title":"Roo Code 3.22 Release Notes","description":"Roo Code 3.22 introduces 1-click task sharing, global rule directories, free Gemini access, enhanced mode discovery, and critical bug fixes.","source":"@site/docs/update-notes/v3.22.mdx","sourceDirName":"update-notes","slug":"/update-notes/v3.22","permalink":"/update-notes/v3.22","draft":false,"unlisted":false,"editUrl":"https://github.com/RooCodeInc/Roo-Code-Docs/edit/main/docs/update-notes/v3.22.mdx","tags":[],"version":"current","lastUpdatedAt":1752882764000,"frontMatter":{"description":"Roo Code 3.22 introduces 1-click task sharing, global rule directories, free Gemini access, enhanced mode discovery, and critical bug fixes.","keywords":["Roo Code 3.22","release notes","task sharing","global rules","Gemini CLI","mode discovery"],"image":"/img/social-share.jpg"},"sidebar":"tutorialSidebar","previous":{"title":"3.22.1","permalink":"/update-notes/v3.22.1"},"next":{"title":"3.22.0","permalink":"/update-notes/v3.22.0"}}');var s=n(74848),r=n(28453);const t={description:"Roo Code 3.22 introduces 1-click task sharing, global rule directories, free Gemini access, enhanced mode discovery, and critical bug fixes.",keywords:["Roo Code 3.22","release notes","task sharing","global rules","Gemini CLI","mode discovery"],image:"/img/social-share.jpg"},l="Roo Code 3.22 Release Notes",a={},d=[{value:"1-Click Task Sharing",id:"1-click-task-sharing",level:2},{value:"Global Rules Directory Support",id:"global-rules-directory-support",level:2},{value:"Gemini CLI Provider (Free Access)",id:"gemini-cli-provider-free-access",level:2},{value:"QOL Improvements",id:"qol-improvements",level:2},{value:"Security Fixes",id:"security-fixes",level:2},{value:"Bug Fixes",id:"bug-fixes",level:2},{value:"Provider Updates",id:"provider-updates",level:2},{value:"Misc Improvements",id:"misc-improvements",level:2}];function c(e){const o={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.header,{children:(0,s.jsx)(o.h1,{id:"roo-code-322-release-notes",children:"Roo Code 3.22 Release Notes"})}),"\n",(0,s.jsx)(o.p,{children:"This major release introduces 1-click task sharing, global rule directories, free Gemini access, enhanced mode discovery, and comprehensive bug fixes for memory leaks and provider integration."}),"\n",(0,s.jsx)(o.h2,{id:"1-click-task-sharing",children:"1-Click Task Sharing"}),"\n",(0,s.jsx)("img",{src:"/img/task-sharing/task-sharing-1.gif",alt:"Roo Code Task Sharing Demo",width:"600"}),"\n",(0,s.jsxs)(o.p,{children:["We've added the ability to share your Roo Code tasks publicly right from within the extension (",(0,s.jsx)(o.a,{href:"/roo-code-cloud/task-sharing",children:"learn more"}),"):"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Public Sharing"}),': Select "Share Publicly" to generate a shareable link that anyone can access']}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Automatic Clipboard Copy"}),": Generated links are automatically copied to your clipboard for easy sharing"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Collaboration Ready"}),": Share tasks with team members, collaborators, or anyone who needs to view your task and conversation history"]}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"global-rules-directory-support",children:"Global Rules Directory Support"}),"\n",(0,s.jsxs)(o.p,{children:["We've added support for cross-workspace custom instruction sharing through global directory loading (thanks samhvw8!) (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5016",children:"#5016"}),"):"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Global Rules"}),": Store rules in ",(0,s.jsx)(o.code,{children:"~/.roo/rules/"})," for consistent configuration across all projects"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Project-Specific Rules"}),": Use ",(0,s.jsx)(o.code,{children:".roo/rules/"})," directories for project-specific customizations"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Hierarchical Loading"}),": Global rules load first, with project rules taking precedence for overrides"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Team Collaboration"}),": Version-control project rules to share team standards and workflows"]}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["This enables configuration management across projects and machines, perfect for organizational onboarding and maintaining consistent development environments. ",(0,s.jsx)(o.a,{href:"/features/custom-instructions#setting-up-global-rules",children:"Learn how to set up global rules"}),"."]}),"\n",(0,s.jsx)(o.h2,{id:"gemini-cli-provider-free-access",children:"Gemini CLI Provider (Free Access)"}),"\n",(0,s.jsx)(o.p,{children:"We've added a new Gemini CLI provider that enables free access to Google's Gemini models without requiring API keys:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"OAuth Authentication"}),": Sign in with your Google account to access Gemini models at no cost"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Automatic Project Discovery"}),": Seamlessly connects to your Google Cloud projects"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Streaming Responses"}),": Real-time response streaming for better interactivity"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Complete Integration"}),": Full UI support with comprehensive setup guidance"]}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"This gives you another powerful free option alongside local models and other free providers."}),"\n",(0,s.jsx)(o.h2,{id:"qol-improvements",children:"QOL Improvements"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Timer-Based Auto-Approval for Follow-Up Questions"}),": Streamline your workflow with timer-based auto-approval for follow-up questions (",(0,s.jsx)(o.a,{href:"/features/auto-approving-actions#follow-up-questions",children:"learn more"}),"). (thanks liwilliam2021!) (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5296",children:"#5296"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Import and Export Custom Modes"}),": Easily share, back up, and synchronize your custom modes across different projects and installations (",(0,s.jsx)(o.a,{href:"/features/custom-modes#importexport-modes",children:"learn more"}),"). (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5074",children:"#5074"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Enhanced Search and Indexing Controls"}),":","\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Configurable Search Score Threshold"}),": Fine-tune the sensitivity of semantic search with a new slider in the settings (",(0,s.jsx)(o.a,{href:"/features/codebase-indexing#advanced-configuration-fields",children:"learn more"}),"). (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5041",children:"#5041"}),")"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Persistent Version Indicator"}),": The Roo Code version is now always visible on the chat screen, providing a convenient way to check your version and access release notes without having to navigate to the settings. (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5128",children:"#5128"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Automatic Configuration Import"}),": You can now automatically import your Roo Code configuration on startup by placing a config file at a specified path in your VSCode settings. This eliminates the need to manually import configurations through the GUI (",(0,s.jsx)(o.a,{href:"/features/settings-management#automatic-configuration-import",children:"learn more"}),"). (thanks takakoutso!) (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/4848",children:"#4848"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Architect Mode Enhancements"}),": To encourage better project planning, Architect mode is now the default for new installations. The mode has also been improved to no longer provide time estimates, ensuring its plans are focused on actionable steps rather than potentially misleading timelines (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5289",children:"#5289"}),", ",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5295",children:"#5295"}),")."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Mermaid Diagram Enhancements"}),": Mermaid diagrams now have a cleaner and more consistent appearance. Toolbar buttons are now clearly visible in light mode, and distracting error messages will no longer be rendered on invalid diagrams, providing a smoother experience when creating and viewing diagrams. (thanks chrarnoldus!) (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5342",children:"#5342"}),", ",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5308",children:"#5308"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Improved Model Behavior"}),": Models now provide more reliable and consistent responses. Previously, token usage information was unintentionally sent to the model, which could cause it to stop tasks or shorten its answers. This information is no longer sent, ensuring models complete tasks based on your requirements, not their perceived token limits (thanks SannidhyaSah!) (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5312",children:"#5312"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Enhanced File Protection"}),": The ",(0,s.jsx)(o.code,{children:".vscode"})," directory is now write-protected to prevent accidental changes to your editor configuration (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5347",children:"#5347"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Qdrant Configuration"}),": Improved the user experience when configuring a custom Qdrant server by preventing the URL field from auto-filling with the default value. (thanks SannidhyaSah!) (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5217",children:"#5217"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Mode Discovery"}),": Enhanced mode selector with highlighting for new users, redesigned interface, and descriptive text. Also moved the ",(0,s.jsx)(o.a,{href:"/features/marketplace",children:"Roo Code Marketplace"})," and ",(0,s.jsx)(o.a,{href:"/features/custom-modes",children:"Mode configuration"})," buttons out of the top menu for better organization (thanks brunobergher!) (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/4902",children:"#4902"}),")"]}),"\n"]}),"\n",(0,s.jsx)("img",{src:"/img/v3.22.0/v3.22.0.png",alt:"Enhanced mode selector interface showing improved highlighting and descriptive text for better user experience",width:"400"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Quick Fix Control"}),": Added setting to disable Roo Code quick fixes, preventing conflicts with other extensions (thanks OlegOAndreev!) (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/4878",children:"#4878"}),") - ",(0,s.jsx)(o.a,{href:"/features/code-actions#disablingenabling-code-actions",children:"Learn more"})]}),"\n"]}),"\n",(0,s.jsx)("img",{src:"/img/v3.22.0/v3.22.0-1.png",alt:"VSCode settings showing the Enable Roo Code quick fixes toggle option",width:"300"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Mode Switching"}),": Follow-up question suggestions can now switch modes directly, eliminating the need to manually change modes after selecting a suggestion (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5200",children:"#5200"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Consistent Tooltips"}),": Standardized tooltip delays to 300ms across the entire application for smooth, predictable behavior (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5098",children:"#5098"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Cost Transparency"}),": Improved OpenRouter BYOK cost calculation accuracy using official upstream costs and restored cached token count visibility (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5145",children:"#5145"}),")"]}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"security-fixes",children:"Security Fixes"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Code Display"}),": Eliminated XSS vulnerability in code block rendering for enhanced security (thanks KJ7LNW!) (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5157",children:"#5157"}),")"]}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"bug-fixes",children:"Bug Fixes"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Inconsistent Cancellation Messages"}),': Fixed an issue where canceling a task would show a misleading "API Streaming Failed" error. Now, canceling at any stage of a task will correctly display the "API Request Cancelled" message (',(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/4904",children:"#4904"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Invalid Bedrock Model Identifier"}),': Fixed an issue that caused "invalid model identifier" errors when using AWS Bedrock with cross-region inference. Users can now reliably connect to Bedrock models across different regions. (thanks KevinZhao, zenithfull!) (',(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/4973",children:"#4973"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"URL Loading Timeouts"}),': Fixed an issue where referencing URLs with @ could result in a "Navigation timeout" error, making it more reliable to reference content from slower websites. (thanks MuriloFP, mrw1986!) (',(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5160",children:"#5160"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Excessive API Retry Delays"}),": Fixed an issue where the auto-retry delay for failed API requests could become excessively long. The delay is now capped at 10 minutes, preventing tasks from getting stuck for extended periods. (thanks MuriloFP, piisawheel!) (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5171",children:"#5171"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Context Condensation Threshold"}),": Fixed a bug where the context condensation threshold was not being applied correctly for individual profiles. Context will now be condensed at the specified threshold for each profile, as expected. (thanks PaperBoardOfficial!) (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5230",children:"#5230"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsxs)(o.strong,{children:[(0,s.jsx)(o.code,{children:"apply_diff"})," Tool Documentation"]}),": Updated the documentation for the ",(0,s.jsx)(o.code,{children:"apply_diff"})," tool to correctly reflect its ability to apply edits to multiple files in a single operation. (thanks KJ7LNW!) (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5232",children:"#5232"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Cache Files in System Prompt"}),": Fixed an issue where cache files (like ",(0,s.jsx)(o.code,{children:".DS_Store"})," on macOS) were being included in the system prompt when using custom mode rules. This improves prompt quality and reduces unwanted noise. (thanks MuriloFP, juliettefournier-econ!) (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5283",children:"#5283"}),")"]}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"provider-updates",children:"Provider Updates"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"AWS Bedrock"}),": Updated cross-region inference profile mapping for improved regional support (thanks KevinZhao!) (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/4973",children:"#4973"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"LiteLLM"}),": Added default headers and testing for litellm fetcher, enhancing compatibility (thanks andrewshu2000!) (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5242",children:"#5242"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Gemini CLI Removal"}),": The Gemini CLI provider has been removed per Google's request for a more standard implementation. Users previously using the Gemini CLI provider should migrate to the standard Gemini provider for continued access to Gemini models (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5223",children:"#5223"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Claude Code"}),": Fixed token counting issues, message handling for long tasks, removed misleading UI controls, and improved caching/image upload (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5108",children:"#5108"}),", ",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5072",children:"#5072"}),", ",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5105",children:"#5105"}),", ",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5113",children:"#5113"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Azure OpenAI"}),": Fixed compatibility with reasoning models by removing unsupported temperature parameter (thanks ExactDoug!) (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5116",children:"#5116"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"AWS Bedrock"}),": Improved throttling error detection and retry functionality (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/4748",children:"#4748"}),")"]}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"misc-improvements",children:"Misc Improvements"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Installation Experience"}),": Streamlined the process for developers to test local builds of the Roo Code extension. A new ",(0,s.jsx)(o.code,{children:"pnpm install:vsix"})," command now automates uninstalling, building, and installing development versions, making it faster and easier to contribute (thanks devxpain!) (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/4284",children:"#4284"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"VSCode Command Integration"}),': Added programmatic settings import capability - import settings via Command Palette ("Roo: Import Settings") or VSCode API for automation (thanks shivamd1810!) (',(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5095",children:"#5095"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Translation Workflow"}),": Improved internal translation processes to reduce file reads and improve efficiency (thanks KJ7LNW!) (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5126",children:"#5126"}),")"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"YAML Parsing"}),": Enhanced custom modes configuration handling for edge cases and special characters (",(0,s.jsx)(o.a,{href:"https://github.com/RooCodeInc/Roo-Code/pull/5099",children:"#5099"}),")"]}),"\n"]})]})}function h(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,o,n)=>{n.d(o,{R:()=>t,x:()=>l});var i=n(96540);const s={},r=i.createContext(s);function t(e){const o=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function l(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(r.Provider,{value:o},e.children)}}}]);